<title>Toast</title><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><style>canvas{left:50%;max-height:100%;max-width:100%;position:fixed;top:50%;transform:translate(-50%,-50%);}</style><body><script>"use strict";function t(t,s){const i=document.createElement("canvas");i.width=t,i.height=s;const n=i.getContext("2d");return n.imageSmoothingEnabled=!1,[i,n]}var s={parts:[{name:"wizard",bounds:[0,43,0,35,0,4],size:[44,36],data:[-20,0,-4,29,-39,0,29,-4,1,29,-38,0,29,-4,1,29,-37,0,29,-6,1,29,-36,0,29,-6,1,29,-36,0,29,-6,1,29,-36,0,29,-6,1,29,-36,0,29,-6,1,29,-22,0,-2,29,30,-12,0,29,-4,1,29,-12,0,30,-2,29,-6,0,-2,28,-2,29,30,-3,29,-6,0,30,-10,29,30,-6,0,-3,29,30,-2,29,-2,28,-5,0,28,-2,29,30,-10,29,-3,30,-4,29,-3,30,-10,29,30,-2,29,28,-7,0,-2,29,30,-13,29,-4,30,-13,29,30,-2,29,-8,0,29,30,-32,29,30,29,-8,0,29,30,-12,0,-8,29,-12,0,30,29,-22,0,30,-6,29,30,-36,0,30,-6,29,30,-36,0,29,30,-4,29,30,29,-36,0,29,30,-4,29,30,29,-36,0,29,30,-4,29,30,29,-36,0,29,30,-4,29,30,29,-36,0,29,30,-4,29,30,29,-36,0,30,-6,29,30,-35,0,30,-8,29,30,-34,0,-10,29,-34,0,-10,29,-34,0,-10,29,-34,0,-10,29,-34,0,-10,29,-33,0,-12,29,-32,0,-12,29,-32,0,-12,29,-32,0,-12,30,-32,0,-12,29,-32,0,-12,29,-34,0,-2,28,-4,0,-2,28,-36,0,-2,28,-4,0,-2,28,-417,0,-2,33,-34,0,-2,33,-5,0,-4,33,-32,0,-4,33,-4,0,-4,33,-32,0,-4,33,-5,0,-2,33,-34,0,-2,33,-1325,0,-4,33,-32,0,-4,33,-3,0,-6,33,-30,0,-6,33,0,-8,33,-28,0,-11,33,-2,32,-3,33,-28,0,-3,33,-2,32,-6,33,-2,32,-3,33,-28,0,-3,33,-2,32,-11,33,-28,0,-8,33,0,-6,33,-30,0,-6,33,-3,0,-4,33,-32,0,-4,33,-1236,0,-4,33,-32,0,-4,33,-3,0,-6,33,-30,0,-6,33,0,-3,33,-2,32,-3,33,-28,0,-3,33,-2,32,-5,33,-4,32,-2,33,-28,0,-2,33,-4,32,-4,33,-4,32,-2,33,-28,0,-2,33,-4,32,-5,33,-2,32,-3,33,-28,0,-3,33,-2,32,-3,33,0,-6,33,-30,0,-6,33,-3,0,-4,33,-32,0,-4,33,-1236,0,-4,33,-32,0,-4,33,-3,0,-2,33,-2,32,-2,33,-30,0,-2,33,-2,32,-2,33,0,-2,33,-4,32,-2,33,-28,0,-2,33,-4,32,-3,33,-6,32,33,-28,0,33,-6,32,-2,33,-6,32,33,-28,0,33,-6,32,-3,33,-4,32,-2,33,-28,0,-2,33,-4,32,-2,33,0,-2,33,-2,32,-2,33,-30,0,-2,33,-2,32,-2,33,-3,0,-4,33,-32,0,-4,33,-926,0]},{name:"sparkles",bounds:[0,6,0,6,0,1],size:[7,7],data:[-3,0,33,-6,0,33,-5,0,33,32,33,-2,0,-2,33,-3,32,-2,33,-2,0,33,32,33,-5,0,33,-6,0,33,-6,0,32,-6,0,32,-5,0,32,31,32,-2,0,-2,32,-3,31,-2,32,-2,0,32,31,32,-5,0,32,-6,0,32,-3,0]},{name:"planet",bounds:[0,115,0,84,0,0],size:[116,85],data:[-86,0,-8,6,-100,0,-20,6,-87,0,-33,6,-69,0,-8,33,-4,0,-11,6,5,-2,6,5,-2,6,-2,5,-2,6,5,-2,6,5,6,5,-11,6,-60,0,-19,33,-6,6,-2,5,-20,6,5,-10,6,-54,0,-26,33,-28,6,5,-9,6,-49,0,-30,33,5,-6,6,-3,5,-2,6,5,-2,6,5,-2,6,5,-11,6,5,-8,6,-45,0,-35,33,-17,6,5,-2,6,5,-8,6,5,-7,6,-41,0,29,-39,33,-20,6,5,-7,6,5,-7,6,-40,0,29,-16,33,-3,29,-21,33,6,5,-2,6,5,6,5,-2,6,5,-10,6,5,-14,6,-39,0,-2,29,-12,33,-2,29,-3,33,-3,29,-21,33,-11,6,5,-2,6,5,-6,6,5,-6,6,5,-6,6,-37,0,29,-14,33,29,-3,33,-4,29,-23,33,-7,0,-14,6,5,-12,6,-34,0,-18,33,29,-2,33,-4,29,-24,33,-10,0,-4,6,5,-6,6,5,-5,6,5,-5,6,-32,0,29,-19,33,29,-3,33,-3,29,-11,33,29,-13,33,-10,0,-11,6,5,-11,6,-31,0,-38,33,29,-14,33,-10,0,-4,6,5,-17,6,-30,0,-39,33,29,-15,33,-11,0,-10,6,5,-4,6,5,-4,6,-29,0,-55,33,-2,29,-11,0,-3,6,5,-6,6,5,-8,6,-29,0,-57,33,29,-10,0,-19,6,-28,0,-9,33,-2,29,-42,33,29,-4,33,29,-11,0,-4,6,5,-5,6,5,-3,6,5,-3,6,-27,0,-7,33,-2,29,-2,33,-2,29,-41,33,-2,29,-5,33,-10,0,-18,6,-26,0,-8,33,29,-3,33,-2,29,-42,33,-2,29,-5,33,-10,0,-9,6,5,-7,6,-25,0,-8,33,-2,29,-3,33,-2,29,-43,33,-3,29,-3,33,-11,0,-3,6,5,-8,6,5,-3,6,-25,0,-8,33,-3,29,-2,33,-2,29,-46,33,29,-3,33,-10,0,-4,6,5,-3,6,5,-7,6,-24,0,-10,33,-2,29,-25,33,-2,29,33,-3,29,-23,33,-10,0,-8,6,5,-3,6,5,-3,6,-24,0,-37,33,29,-2,33,-3,29,-24,33,-9,0,-16,6,-23,0,-37,33,-2,29,-3,33,-2,29,-24,33,-9,0,-4,6,5,-11,6,-23,0,-23,33,29,-13,33,29,-4,33,-2,29,-25,33,-7,0,-12,6,5,-3,6,-23,0,-22,33,-2,29,-15,33,29,-4,33,29,-26,33,-6,0,-5,6,5,-3,6,5,-6,6,-22,0,5,-39,33,-3,29,-29,33,-6,0,-15,6,-22,0,-2,5,-72,33,-5,0,-4,6,5,-10,6,-21,0,-2,5,-54,33,29,-18,33,-4,0,-8,6,5,-4,6,5,-2,6,-20,0,-3,5,-73,33,-4,0,-4,6,5,-10,6,-20,0,-4,5,-73,33,-4,0,-7,6,5,-7,6,-19,0,-5,5,-9,33,29,-54,33,29,-9,33,-2,0,-15,6,-19,0,-4,5,4,-10,33,29,-2,33,29,-50,33,-2,29,-9,33,-2,0,-3,6,5,-3,6,5,-4,6,5,-2,6,-18,0,-4,5,4,5,-10,33,29,-64,33,0,-7,6,5,-7,6,-18,0,-7,5,-25,33,-4,29,-12,33,29,-25,33,-2,29,-6,33,0,-15,6,-18,0,-2,5,4,-4,5,29,-22,33,29,-2,33,-4,29,-11,33,29,-2,33,29,-30,33,-12,6,5,-2,6,-18,0,-7,5,4,29,-21,33,-2,29,-4,33,-3,29,-10,33,29,-33,33,-4,6,5,-2,6,5,-6,6,-18,0,-7,5,4,5,-2,29,-19,33,29,-7,33,-2,29,-30,33,29,-12,33,-4,6,5,-9,6,-18,0,-3,5,4,-6,5,-2,29,-19,33,-2,29,-6,33,-2,29,-27,33,-2,29,33,-2,29,-10,33,-8,6,5,-3,6,5,-2,6,-17,0,-11,5,-2,29,-20,33,29,-6,33,-2,29,-27,33,29,-2,33,-2,29,-10,33,-14,6,-18,0,-2,5,4,-4,5,4,-3,5,-3,29,-19,33,29,-6,33,-2,29,-27,33,29,33,-2,29,-10,33,-4,6,5,-10,6,-17,0,-11,5,4,-3,29,-19,33,-2,29,-4,33,-3,29,-40,33,-8,6,5,-3,6,5,-2,6,-17,0,-8,5,4,-4,5,-4,29,-19,33,-2,29,-3,33,-2,29,-40,33,-8,6,5,-6,6,-17,0,-4,5,4,-9,5,-5,29,-19,33,-2,29,-17,33,29,33,29,-23,33,-4,6,5,-3,6,5,-6,6,-18,0,-7,5,4,-5,5,0,-5,29,-10,33,29,-27,33,29,33,29,-22,33,-13,6,5,6,-18,0,-3,5,4,-7,5,4,-2,5,-2,0,-5,29,-2,33,-2,29,-5,33,29,-27,33,29,-23,33,-8,6,5,-7,6,-18,0,-7,5,4,-5,5,-3,0,-5,29,-2,33,-3,29,-55,33,-5,6,5,-2,6,5,-3,6,5,-2,6,-20,0,-2,5,4,-10,5,-3,0,-6,29,-2,33,-2,29,-42,33,29,-11,33,-16,6,-19,0,-13,5,-5,0,-6,29,33,-2,29,-42,33,29,-10,33,-5,6,5,-2,6,5,-4,6,5,6,-21,0,-7,5,4,-2,5,4,-2,5,-5,0,-6,29,33,-2,29,-52,33,-15,6,-21,0,-14,5,-5,0,-9,29,-51,33,-5,6,5,-2,6,5,-3,6,5,-3,6,-21,0,-3,5,4,-3,5,4,-6,5,-5,0,-8,29,-36,33,29,-13,33,-16,6,-23,0,-13,5,-7,0,-7,29,-35,33,-2,29,-12,33,-5,6,5,-3,6,5,-6,6,-23,0,-11,5,4,-2,5,-7,0,-9,29,-46,33,-9,6,5,-3,6,5,-3,6,-23,0,-14,5,-8,0,-9,29,-20,33,29,-20,33,-2,29,33,-4,6,5,-11,6,-24,0,-3,5,4,-4,5,4,-6,5,-9,0,-8,29,-11,33,29,-28,33,-2,29,-9,6,5,-3,6,5,-2,6,-2,33,-24,0,-11,5,4,-3,5,-9,0,-10,29,-9,33,29,-2,33,29,-6,33,29,-18,33,29,-5,6,5,-11,6,33,-25,0,-3,5,4,-3,5,4,-7,5,-10,0,-9,29,-37,33,-5,6,5,-4,6,5,-3,6,5,-3,6,-2,33,-24,0,-12,5,4,-3,5,-10,0,-10,29,-12,33,-5,29,-4,33,-2,29,-11,33,-5,6,5,-4,6,5,-7,6,-3,33,-25,0,-4,5,4,-11,5,-11,0,-10,29,-5,33,-2,29,33,29,-3,33,-4,29,-3,33,-2,29,-10,33,-18,6,-5,33,-25,0,-8,5,4,-8,5,-10,0,-12,29,-2,33,-2,29,33,-2,29,-5,33,-3,29,-2,33,29,-3,33,29,-6,33,-5,6,5,-4,6,5,-5,6,5,6,-5,33,-26,0,-4,5,4,-8,5,4,-4,5,-10,0,-12,29,33,29,-2,33,29,-6,33,-3,29,-2,33,29,-3,33,29,-4,33,-10,6,5,-8,6,-5,33,-27,0,-8,5,4,-9,5,-11,0,-12,29,-3,33,29,-6,33,-4,29,-5,33,29,-2,33,-6,6,5,-4,6,5,-4,6,5,-3,6,-6,33,-27,0,-19,5,-10,0,-13,29,33,-2,29,-7,33,-3,29,-6,33,-6,6,5,-4,6,5,-3,6,5,-4,6,-6,33,-29,0,-9,5,4,-9,5,-11,0,-15,29,-7,33,-3,29,-3,33,-22,6,-7,33,-29,0,-4,5,4,-9,5,4,-5,5,-10,0,-15,29,-7,33,-3,29,33,-7,6,5,-5,6,5,-4,6,5,-3,6,-8,33,-30,0,-10,5,4,-11,5,-10,0,-15,29,-6,33,-13,6,5,-9,6,-9,33,-31,0,-15,5,4,-7,5,-10,0,-15,29,-3,33,-9,6,5,-10,6,5,-2,6,-9,33,29,33,-32,0,-5,5,4,-4,5,4,-5,5,4,-9,5,-6,0,-14,29,-10,6,5,-5,6,5,-9,6,-8,33,-2,29,-34,0,-29,5,-5,0,-4,29,-15,6,5,-5,6,5,-5,6,5,-4,6,-9,33,-2,29,-36,0,-10,5,4,-6,5,4,-14,5,-16,6,5,-18,6,-11,33,29,-38,0,-4,5,4,-14,5,4,-12,5,-12,6,5,-9,6,5,-5,6,5,-4,6,-12,33,-39,0,-10,5,4,-12,5,4,-9,5,-8,6,5,-8,6,5,-6,6,5,-5,6,-12,33,-42,0,-11,5,4,-14,5,4,-2,5,4,-3,5,-2,6,5,-10,6,5,-11,6,-14,33,-44,0,-6,5,4,-6,5,4,-20,5,-9,6,5,-8,6,5,-3,6,-9,33,-3,29,-2,33,-47,0,-15,5,4,-2,5,4,-13,5,4,5,-2,6,5,-2,6,5,-6,6,5,-7,6,-3,29,-7,33,-53,0,-6,5,4,-14,5,4,-3,5,4,-2,5,4,-6,5,-15,6,-8,29,-3,33,-56,0,-8,5,4,-26,5,-5,6,5,-5,6,-10,29,-62,0,-8,5,4,-22,5,4,-3,5,-5,6,-78,0,-8,5,4,-2,5,4,-10,5,4,-2,5,4,-9,5,-2,6,-82,0,-10,5,4,-2,5,4,-2,5,4,-11,5,-92,0,-18,5,-102,0,-9,5,-85,0]},{name:"toast",bounds:[0,99,0,12,0,0],size:[100,13],data:[-3,0,-94,15,-6,0,-94,15,-6,0,-94,15,-3,0,-1e3,9]},{name:"pillar",bounds:[0,11,0,5,0,4],size:[12,6],data:[-3,0,-8,6,0,-12,6,5,-10,6,5,3,-4,5,-4,6,-2,5,-2,3,-4,4,-6,5,3,0,-4,4,-4,5,-4,0,-8,6,-3,0,-12,6,-3,5,-8,6,5,3,-2,4,-4,5,-4,6,-2,3,-6,4,-4,5,3,-3,0,-4,4,-4,5,-2,0,-10,6,0,-12,6,5,-10,6,5,3,4,-8,5,6,-3,3,-8,4,5,3,0,3,-8,4,5,-2,0,-5,6,-6,0,-3,5,-6,6,-3,0,3,-2,4,-3,5,-5,6,5,-2,3,-4,4,-3,5,-2,6,-3,3,-7,4,-2,5,3,0,3,-7,4,-2,5,-7,0,-5,6,-4,0,-6,6,-2,5,3,5,-5,6,-5,5,-2,3,4,-4,5,-3,4,-2,5,-3,3,-7,4,-2,5,3,0,3,-7,4,-2,5,0]},{name:"brick",bounds:[0,4,0,3,0,0],size:[5,4],data:[-6,3,-2,4,5,-2,3,-2,4,5,-2,3,-2,4,5,3]},{name:"old wizard",bounds:[0,63,0,63,0,2],size:[64,64],data:[-31,0,-6,22,-53,0,-14,22,-49,0,-16,22,-46,0,21,-9,22,-5,1,-5,22,-42,0,-2,21,-8,22,-9,1,-4,22,-40,0,22,21,-8,22,-12,1,-3,22,-37,0,22,-3,21,-6,22,-15,1,-3,22,-35,0,-2,22,-2,21,-7,22,-16,1,-3,22,-33,0,-2,22,21,22,21,-6,22,-17,1,-4,22,-31,0,-3,22,-3,21,-5,22,-19,1,-3,22,-31,0,-2,22,-3,21,-5,22,-20,1,-4,22,-29,0,-3,22,21,22,21,-5,22,-20,1,-4,22,-28,0,-4,22,-3,21,-4,22,-22,1,-4,22,-26,0,-5,22,-2,21,-5,22,-22,1,-4,22,-26,0,-4,22,-3,21,-5,22,-23,1,-4,22,-25,0,-4,22,21,22,21,-4,22,-24,1,-4,22,-24,0,-5,22,-3,21,-4,22,-24,1,-4,22,-24,0,-5,22,-2,21,-5,22,-25,1,-4,22,-22,0,-5,22,-3,21,-5,22,-25,1,-4,22,-22,0,-5,22,21,22,21,-4,22,-26,1,-4,22,-22,0,-5,22,-3,21,-4,22,-26,1,-4,22,-21,0,-5,22,-3,21,-5,22,-27,1,-3,22,-21,0,-5,22,-3,21,-4,22,-28,1,-4,22,-20,0,-5,22,21,22,21,-4,22,-28,1,-4,22,-20,0,-4,22,-4,21,-4,22,-28,1,-4,22,-20,0,-4,22,-3,21,-5,22,-28,1,-4,22,-19,0,-5,22,-3,21,-5,22,-29,1,-3,22,-19,0,-5,22,21,22,21,-5,22,-29,1,-3,22,-19,0,-5,22,-3,21,-4,22,-30,1,-3,22,-19,0,-5,22,-2,21,-5,22,-30,1,-3,22,-19,0,-4,22,-3,21,-5,22,-30,1,-3,22,-19,0,-4,22,21,22,21,-4,22,-31,1,-3,22,-19,0,-4,22,-3,21,-4,22,-31,1,-4,22,-18,0,-4,22,-3,21,-4,22,-31,1,-4,22,-18,0,-4,22,-3,21,-4,22,-31,1,-4,22,-18,0,-4,22,21,22,21,-4,22,-31,1,-4,22,-18,0,-4,22,-3,21,-4,22,-31,1,-4,22,-18,0,-4,22,-3,21,-4,22,-30,1,-4,22,-18,0,-5,22,-3,21,-5,22,-29,1,-4,22,-18,0,-5,22,21,22,21,-5,22,-29,1,-4,22,-18,0,-5,22,-3,21,-5,22,-29,1,-4,22,-18,0,-5,22,-3,21,-5,22,-28,1,-5,22,-18,0,-5,22,21,22,21,-6,22,-26,1,-6,22,-18,0,-5,22,-3,21,-6,22,-26,1,-5,22,-19,0,-6,22,-2,21,-7,22,-24,1,-6,22,-19,0,-6,22,21,22,21,-8,22,-21,1,-6,22,-20,0,-6,22,-3,21,-11,22,-15,1,-9,22,-21,0,-6,22,-2,21,-34,22,-23,0,-5,22,21,22,21,-32,22,-25,0,-5,22,-2,21,-31,22,-28,0,-3,22,21,22,21,-29,22,-30,0,-3,22,-2,21,-27,22,-23,0,-52,22,-10,0,-3,21,-55,22,-4,0,-7,21,-52,22,-3,21,-2,0,-6,21,-2,22,21,-45,22,-5,21,22,-4,21,22,-4,21,-2,22,-5,21,-36,22,-5,21,22,-6,21,-2,22,-2,21,-3,22,21,22,-6,21,22,-5,21,22,-2,21,-24,22,-4,21,22,-5,21,22,-7,21,22,21,-6,22,-4,21,22,-5,21,22,-5,21,22,-4,21,22,-4,21,22,-5,21,22,-4,21,22,-5,21,22,-5,21,22,-5,21,-13,22,-6,21,22,-4,21,22,-5,21,22,-4,21,22,-5,21,22,-5,21,22,-5,21,22,-5,21,22,-2,21,-18,22,-2,21,22,-5,21,22,-4,21,22,-5,21,22,-5,21,22,-5,21,22,-5,21,22,-3,21,-28,22,-2,21,22,-5,21,22,-5,21,22,-5,21,22,-6,21,22,-3,21,-46,22,21,22,-5,21,22,21,-88,22,-31,0,-6,13,-53,0,-14,13,-49,0,-16,13,-46,0,14,-19,13,-42,0,-2,14,-9,13,-6,1,-6,13,-40,0,13,14,-8,13,-10,1,-5,13,-37,0,13,-3,14,-7,13,-13,1,-4,13,-36,0,13,-2,14,-6,13,-16,1,-4,13,-34,0,13,14,13,14,-5,13,-18,1,-4,13,-32,0,-2,13,-3,14,-4,13,-20,1,-3,13,-31,0,-2,13,-3,14,-5,13,-21,1,-3,13,-30,0,-2,13,14,13,14,-4,13,-23,1,-2,13,-29,0,-3,13,-3,14,-4,13,-23,1,-3,13,-27,0,-4,13,-2,14,-4,13,-25,1,-2,13,-27,0,-3,13,-3,14,-3,13,-26,1,-3,13,-26,0,-3,13,14,13,14,-3,13,-27,1,-2,13,-25,0,-4,13,-3,14,-2,13,-28,1,-2,13,-25,0,-4,13,-2,14,-3,13,-28,1,-3,13,-24,0,-3,13,-3,14,-3,13,-28,1,-3,13,-23,0,-4,13,14,13,14,-3,13,-29,1,-2,13,-23,0,-4,13,-3,14,-3,13,-29,1,-2,13,-22,0,-4,13,-3,14,-3,13,-30,1,-2,13,-22,0,-4,13,-3,14,-3,13,-30,1,-3,13,-21,0,-4,13,14,13,14,-3,13,-31,1,-2,13,-21,0,-3,13,-4,14,-2,13,-32,1,-2,13,-20,0,-4,13,-3,14,-3,13,-32,1,-2,13,-20,0,-4,13,-3,14,-3,13,-32,1,-2,13,-20,0,-4,13,14,13,14,-3,13,-32,1,-2,13,-19,0,-5,13,-3,14,-3,13,-32,1,-2,13,-19,0,-5,13,-2,14,-4,13,-32,1,-2,13,-19,0,-4,13,-3,14,-4,13,-32,1,-2,13,-19,0,-4,13,14,13,14,-4,13,-32,1,-2,13,-19,0,-4,13,-3,14,-4,13,-32,1,-3,13,-18,0,-4,13,-3,14,-4,13,-32,1,-3,13,-18,0,-4,13,-3,14,-4,13,-32,1,-3,13,-18,0,-4,13,14,13,14,-4,13,-32,1,-3,13,-18,0,-4,13,-3,14,-4,13,-32,1,-3,13,-18,0,-4,13,-3,14,-4,13,-32,1,-2,13,-19,0,-4,13,-3,14,-4,13,-31,1,-3,13,-19,0,-4,13,14,13,14,-4,13,-31,1,-3,13,-19,0,-4,13,-3,14,-5,13,-30,1,-3,13,-19,0,-4,13,-3,14,-5,13,-30,1,-3,13,-19,0,-4,13,14,13,14,-6,13,-29,1,-3,13,-19,0,-4,13,-3,14,-7,13,-27,1,-3,13,-20,0,-5,13,-2,14,-7,13,-26,1,-4,13,-20,0,-5,13,14,13,14,-7,13,-24,1,-4,13,-22,0,-4,13,-3,14,-7,13,-23,1,-5,13,-22,0,-5,13,-2,14,-10,13,-19,1,-5,13,-24,0,-4,13,14,13,14,-11,13,-15,1,-6,13,-26,0,-4,13,-2,14,-15,13,-9,1,-7,13,-28,0,-3,13,14,13,14,-29,13,-31,0,-2,13,-2,14,-27,13,-23,0,-52,13,-10,0,-2,14,-56,13,-4,0,14,-3,13,-2,14,-55,13,14,-2,0,14,-4,13,-5,14,-45,13,-6,14,-3,13,-2,14,-2,13,-3,14,-3,13,-6,14,-34,13,-5,14,-5,13,-2,14,-4,13,-4,14,-4,13,-2,14,-4,13,-10,14,-18,13,-6,14,-3,13,-2,14,-5,13,-4,14,-4,13,-4,14,13,-2,14,-6,13,-2,14,-6,13,-19,14,-2,13,-2,14,-6,13,-2,14,-5,13,-2,14,-9,13,-3,14,-5,13,-2,14,-6,13,-3,14,-4,13,-2,14,-5,13,-2,14,-6,13,-2,14,-6,13,-2,14,-5,13,14,-13,13,-3,14,-2,13,-2,14,-6,13,-2,14,-5,13,-2,14,-5,13,-2,14,-7,13,-2,14,-6,13,-2,14,-2,13,-2,14,-17,13,-6,14,-3,13,-2,14,-6,13,-2,14,-6,13,-2,14,-6,13,-2,14,-6,13,-4,14,-25,13,-5,14,-6,13,-2,14,-6,13,-2,14,-6,13,-2,14,13,-6,14,-32,13,-2,14,-4,13,-2,14,-7,13,-2,14,-3,13,-6,14,-14,13,-31,0,-6,19,-53,0,-14,19,-49,0,-16,19,-46,0,18,-19,19,-40,0,19,18,19,18,-21,19,-38,0,-2,19,-2,18,-10,19,-6,1,-7,19,-36,0,-2,19,-3,18,-7,19,-11,1,-6,19,-34,0,-3,19,-2,18,-7,19,-13,1,-6,19,-32,0,-3,19,18,19,18,-6,19,-16,1,-5,19,-30,0,-4,19,-3,18,-5,19,-18,1,-4,19,-29,0,-4,19,-3,18,-5,19,-20,1,-4,19,-28,0,-4,19,18,19,18,-5,19,-20,1,-4,19,-27,0,-5,19,-3,18,-4,19,-22,1,-4,19,-26,0,-5,19,-2,18,-5,19,-22,1,-4,19,-25,0,-5,19,-3,18,-5,19,-23,1,-4,19,-24,0,-5,19,18,19,18,-4,19,-24,1,-4,19,-23,0,-6,19,-3,18,-4,19,-24,1,-4,19,-23,0,-6,19,-2,18,-5,19,-25,1,-4,19,-21,0,-6,19,-3,18,-4,19,-26,1,-4,19,-21,0,-6,19,18,19,18,-4,19,-26,1,-4,19,-20,0,-7,19,-3,18,-4,19,-26,1,-4,19,-20,0,-6,19,-3,18,-4,19,-27,1,-4,19,-20,0,-6,19,-3,18,-4,19,-28,1,-4,19,-18,0,-7,19,18,19,18,-4,19,-28,1,-4,19,-18,0,-6,19,-4,18,-4,19,-28,1,-4,19,-18,0,-6,19,-3,18,-5,19,-29,1,-3,19,-17,0,-7,19,-3,18,-4,19,-30,1,-3,19,-17,0,-7,19,18,19,18,-4,19,-30,1,-3,19,-17,0,-7,19,-3,18,-4,19,-30,1,-3,19,-17,0,-7,19,-2,18,-5,19,-30,1,-3,19,-17,0,-6,19,-3,18,-5,19,-30,1,-3,19,-17,0,-6,19,18,19,18,-5,19,-30,1,-3,19,-17,0,-6,19,-3,18,-5,19,-30,1,-4,19,-16,0,-6,19,-3,18,-5,19,-30,1,-4,19,-16,0,-6,19,-3,18,-5,19,-30,1,-4,19,-16,0,-6,19,18,19,18,-5,19,-8,1,4,-2,5,4,-8,1,-2,4,-8,1,-4,19,-16,0,-6,19,-3,18,-5,19,-6,1,-6,4,5,4,-3,5,-2,4,-4,6,-2,4,-5,1,-4,19,-16,0,-6,19,-3,18,-5,19,-5,1,5,4,-3,5,6,-7,5,6,-3,5,-2,6,5,6,5,-3,1,-3,19,-17,0,-6,19,-3,18,-5,19,-4,1,-2,4,5,4,-2,5,4,-2,5,-3,4,-2,5,-3,4,-2,5,-2,4,-2,6,5,-2,1,-3,19,-17,0,-6,19,18,19,18,-5,19,-2,1,5,4,5,4,-3,5,6,4,5,4,6,4,5,4,5,4,5,6,4,-3,5,4,6,-2,5,1,-3,19,-17,0,-6,19,-3,18,-5,19,-2,1,5,-4,4,5,4,6,5,-2,4,6,-2,5,-2,4,-2,5,-2,6,4,-3,5,-2,6,-2,5,-3,19,-16,0,-7,19,-3,18,-5,19,1,4,5,4,-2,5,4,5,-2,4,5,4,6,5,-4,4,5,6,5,4,6,4,-2,5,4,6,-2,5,-3,19,-16,0,-7,19,18,19,18,-6,19,-3,4,-2,5,4,5,4,5,4,-2,6,5,4,-2,5,4,6,5,6,5,-2,4,6,-2,5,-2,6,4,5,-2,19,-16,0,-7,19,-3,18,-6,19,-3,4,-2,5,4,5,4,5,4,6,4,-2,5,4,-2,5,6,4,6,-2,5,4,6,5,-2,4,-2,6,5,19,-17,0,-8,19,-2,18,-6,19,-2,4,-3,5,4,-5,5,4,-2,5,4,-4,5,6,-2,5,4,6,5,4,-2,5,6,5,19,-17,0,-8,19,18,19,18,-5,19,-2,4,5,4,5,4,-4,5,-2,4,5,4,-2,5,6,-2,5,6,-4,5,6,4,6,5,4,5,-18,0,-8,19,-3,18,-5,19,-2,4,5,4,5,4,-4,5,4,5,6,4,-2,5,6,-3,5,4,5,6,5,6,-2,5,6,5,6,-19,0,-8,19,-2,18,-5,19,-2,4,-2,5,4,-2,5,4,-2,5,4,-2,6,-2,5,4,6,-3,5,4,5,6,5,4,6,5,6,5,6,-20,0,-7,19,18,19,18,-4,19,-3,4,5,4,-2,5,4,-2,5,4,6,-2,5,4,5,6,4,-2,5,4,5,6,5,4,6,4,6,5,6,-20,0,-8,19,-2,18,-5,19,-5,4,5,4,-2,5,4,6,-4,5,6,4,-2,5,4,-2,5,6,5,6,4,6,4,6,-21,0,-7,19,18,19,18,-4,19,-3,4,5,4,5,4,-3,5,6,5,4,-2,5,6,4,-2,5,4,-2,5,6,5,6,4,6,4,5,-25,0,-4,19,-2,18,-5,19,-4,4,-2,5,4,-2,5,4,5,4,5,6,5,4,6,5,4,-2,5,6,5,6,5,6,4,-18,0,-19,19,-4,4,-2,5,4,-2,5,4,-2,5,4,6,4,-2,5,6,-2,4,-3,5,6,5,6,4,-6,19,-10,0,-22,19,-4,4,5,-2,4,5,4,-2,5,4,6,4,5,4,6,5,4,5,4,-2,6,-2,5,4,-10,19,-4,0,-24,19,-2,4,-3,5,-2,4,5,4,-2,5,4,6,-3,4,6,5,4,5,4,5,6,4,5,4,-12,19,-2,0,-16,19,-2,18,-7,19,-2,4,5,4,-6,5,4,6,5,4,5,6,5,4,6,-2,5,6,4,-2,5,-18,19,-6,18,-7,19,-2,18,-6,19,-2,4,-4,5,4,-3,5,4,5,6,4,5,6,-2,4,6,4,-2,5,6,-2,5,-2,18,-15,19,18,-2,19,18,19,-4,18,-6,19,-2,18,-6,19,4,5,-2,4,5,-2,4,-2,5,4,5,6,4,5,6,4,5,6,4,5,-2,6,5,-2,18,-7,19,-4,18,-5,19,-3,18,-2,19,-2,18,19,-2,18,-6,19,-2,18,-5,19,4,-2,5,4,5,4,5,4,5,4,5,6,4,5,6,-2,5,6,4,5,6,-2,5,18,-5,19,-3,18,19,18,-2,19,18,-5,19,-4,18,19,18,19,-3,18,-6,19,18,-5,19,18,4,5,4,5,4,5,-2,4,-2,5,6,5,6,-2,5,4,6,5,6,-2,5,-2,18,-4,19,18,19,-2,18,-2,19,-3,18,-6,19,18,-2,19,18,-2,19,-4,18,-5,19,-2,18,-4,19,18,-3,4,-3,5,-2,4,-2,5,6,5,6,5,4,-2,6,5,6,4,5,18,-3,19,-3,18,-3,19,-2,18,-2,19,18,-7,19,-4,18,-2,19,18,19,18,-6,19,18,-3,19,-2,18,-3,4,-2,5,-3,4,-2,6,4,5,6,5,4,-3,6,5,6,19,18,-2,19,18,19,-2,18,19,-2,18,19,-3,18,-10,19,18,19,-2,18,-2,19,-3,18,-4,19,18,-3,19,-2,18,19,-2,4,-3,5,-2,4,6,5,4,-2,5,-2,4,6,5,-3,6,19,18,-2,19,18,19,-2,18,19,-3,18,19,18,-12,19,-2,18,19,18,-2,19,-4,18,-2,19,18,-3,19,-2,18,19,-5,4,-3,5,6,4,-2,5,4,-2,5,-3,6,-2,19,18,-2,19,-2,18,-2,19,18,-2,19,18,-5,19]}],palette:[2037811,2829890,4278361,6844794,9478568,11979727,16777215,16564106,11894871,9064510,6044225,13185080,14576184,16756027,16770454,16578912,11851333,5358655,3185763,2321786,2510702,2307683,4289169,5018541,6537929,9753300,12123647,3942720,4597596,8545409,16229515,12743042,8727910]};function i(t){const s=[];for(let i=0;i<t.length;i+=1)if(t[i]<0){for(let n=t[i];n<0;n+=1)s.push(t[i+1]);i+=1}else s.push(t[i]);return s}function n({data:t,size:s},i,n,e){return t[i+n*s[0]+e*s[0]*s[1]]}function e(t){return[(t>>16)%256,(t>>8)%256,t%256]}function o(t,s,i,n){if(0===n)return;const[o,h,a]=e(i[n-1]);t[s]=o,t[s+1]=h,t[s+2]=a,t[s+3]=255}function h(s,i,e,h){const[a,r]=s.size,[l,c]=t(i[1]-i[0]+1,i[3]-i[2]+1),d=c.createImageData(a,r);for(let t=i[0];t<=i[1];t+=1)for(let r=i[2];r<=i[3];r+=1)o(d.data,4*(t+r*a),h,n(s,t,r,e));return c.putImageData(d,-i[0],-i[2]),l}function a(t,s){const i=[],{bounds:n}=t;for(let e=n[4];e<=n[5];e+=1)i[e]=h(t,n,e,s);return i}const r=new Map;function l(t,s=0){return r.get(t)[s]}const c=[];function d(t){return c[t]}!function(){for(const t of s.parts)t.data=i(t.data),r.set(t.name,a(t,s.palette));for(const i of s.palette)c.push(`rgb(${(t=e(i))[0]}, ${t[1]}, ${t[2]})`);var t}();const u=2,m=3,f=1e3,p=15e3,w=p+1250,g=w+150,y=l("toast"),x=y.height*u,M=y.width*u,b=M;class P{constructor(t,s){this.x=t,this.y=s}add({x:t,y:s}){return new P(this.x+t,this.y+s)}sub({x:t,y:s}){return new P(this.x-t,this.y-s)}scale(t,s=t){return new P(this.x*t,this.y*s)}rotate(t){return new P(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t))}distance({x:t,y:s}){return((this.x-t)**2+(this.y-s)**2)**.5}round(){return new P(Math.round(this.x),Math.round(this.y))}wrap(){for(;this.x<-f/2;)this.x+=f;for(;this.x>f/2;)this.x-=f;return this}static intersection({x:t,y:s},{x:i,y:n},{x:e,y:o},{x:h,y:a}){const r=(a-o)*(i-t)-(h-e)*(n-s);if(0===r)return null;const l=((h-e)*(s-o)-(a-o)*(t-e))/r,c=((i-t)*(s-o)-(n-s)*(t-e))/r;return l>=0&&l<=1&&c>=0&&c<=1?new P(t+l*(i-t),s+l*(n-s)):null}}class k extends P{constructor(t,s,i){super(t,s),this.timestamp=i}static fromPoint(t,s){return new k(t.x,t.y,s)}}const v=new P(f/2,f/2),z=f/15,I=g-f/2+20*u,T={absolute:!1,globalAlpha:1,imageScale:u,lineJoin:"round",lineWidth:3,r:0,z:1};const C=new P(.5,20),S=30,E=Math.ceil(f/S),R=.95*f;class A{constructor(t=1){this.pointCache=new Map,this.z=t}draw(t){const s=this.getMinimumY(t.camera);this.trimExcess(s),this.ensureEnough(s);const i=Math.min(.01*Math.abs(t.dy),1);for(const s of this.pointCache.values())this.drawOne(t,s,i)}getMinimumY(t){return Math.floor((t.y-f/2)/S)}trimExcess(t){for(const s of this.pointCache.keys())s<t&&this.pointCache.delete(s)}ensureEnough(t){const s=t+E;for(let i=t;i<=s;i+=1)this.ensurePoint(i)}ensurePoint(t){this.pointCache.has(t)||this.pointCache.set(t,new P(Math.random()*R-R/2,t*S))}drawOne(t,s,i){t.rect(s.sub(C),s.add(C),{fillStyle:d(26),globalAlpha:i,z:this.z})}}const W=1.5*f,O=[l("pillar"),l("pillar",1),l("pillar",2),l("pillar",3),l("pillar",4)],D=.02,L=W/5/u,F=4,[B,$]=t(f/u,W/u);function j(t,s,i){const{width:n,height:e}=t;$.drawImage(t,0,F+1,n,e,s,i+F+L,n,e),$.drawImage(t,0,F,n,1,s,i+F,n,L),$.drawImage(t,s,i)}!function(){const t=function(){const t=[],s=W/6,i=W/2,n=W-i,e=f;for(let o=s;o<i+n;o+=16)for(let n=0-50*Math.random();n<e+50;n+=36+24*Math.random()){const h=1-(o/i)**5;Math.abs(n-e/2)/(e/2)>h&&Math.random()<.75&&t.push([new P(n,o-s+12*Math.random()),O[Math.floor(Math.random()*O.length)]])}return t}();for(const[s,i]of t)j(i,(s.x-i.width)/u,(s.y-i.height)/u)}();const H=new P(0,0),q=new P(f,f),V=l("planet"),Y=.0015,J=new P(f/3/Y,-f/3/Y),X=.002,G=f/2/X,K=f/X,N=new P(-G,f/2.5/X),Q=new P(G,K);function U(t){t.rect(H,q,{absolute:!0,fillStyle:d(23)}),t.image(V,J,{z:Y}),t.rect(N,Q,{fillStyle:d(22),z:X}),function(t){t.image(B,new P(0,(W+f/3)/2/D),{z:D})}(t)}const Z=l("brick"),_=2,{height:tt}=Z,st=15,[it,nt]=t(f/u,st*tt);const et=8,ot=4;function ht([t,s,i]){nt.drawImage(Z,0,0,_,tt,t,s,_,tt),nt.drawImage(Z,_+1,0,_,tt,t+i-_,s,_,tt),nt.drawImage(Z,_,0,1,tt,t+_,s,i-2*_,tt)}!function(){const t=function(){const t=[],s=f/u;for(let i=0;i<st;i+=1){let n=-Math.round(Math.random()*ot);for(;n<s;){const s=et+Math.round(Math.random()*ot);t.push([n,i*tt,s]),n+=s-1}}return t}();for(const s of t)ht(s)}();const at=1500,rt=l("brick").height*u,lt=-f/2,ct=[[-(b+M)/2,d(11)],[-b/2,d(17)],[b/2,d(6)],[(b+M)/2,d(17)],[f/2,d(11)]];class dt{constructor(){this.glowIntensity=0}tick(t){var s,i;this.glowIntensity=(s=(1-Math.abs(t%at/(at/2)-1))**.5,i=.1,Math.round(s/i)*i)}draw(t){!function(t){t.image(it,new P(0,g),{snapToTop:!0})}(t);let s=lt;for(const[i,n]of ct)t.rect(new P(s,g),new P(i,g+rt),{fillStyle:n,globalAlpha:.4+.3*this.glowIntensity}),s=i}}const ut=2;function mt(t,s,i,n,e,o,h){t.fillStyle=h;for(let o=0;o<=ut;o+=1)t.fillRect(s+(ut-o)*m,i+o*m,n-2*(ut-o)*m,e-2*o*m);t.fillStyle=o;for(let o=0;o<=ut-1;o+=1)t.fillRect(s+(ut-o)*m,i+(o+1)*m,n-2*(ut-o)*m,e-2*(o+1)*m)}const ft=6,pt=4,wt={a:".... ..... .. .   ",b:".. . ... . ...    ",c:"....  .  .  ...   ",d:".. . .. .. ...    ",e:"....  .. .  ...   ",f:"....  .. .  .     ",g:"....  . .. ....   ",h:". .. ..... .. .   ",i:"..... ",j:"...  .  .. . ..   ",k:". .. ... . .. .   ",l:".  .  .  .  ...   ",m:".   ... ... . ..   ..   .     ",n:".  ... .. ...  ..  .    ",o:".... .. .. ....   ",p:".... .....  .     ",q:".... .. .. ....  .",r:".... ...... . .   ",s:"....  ...  ....   ",t:"... .  .  .  .    ",u:". .. .. .. ....   ",v:". .. .. .. . .    ",w:".   ..   .. . .. . ......     ",x:". .. . . . .. .   ",y:". .. .... .  .    ",z:"...  . . .  ...   ",1:" ... . . .  ",2:"..   . . .  ...   ",3:"..   . .   ...    ",4:".  .  . ....  .   ",5:"....  ..   ...    ",6:" . .  .. . . .    ",7:"...  .  . .  .    ",8:" . . . . . . .    ",9:" . . . ..  . .    ",0:" . . .. .. . .    "," ":"            ",".":"    . ",",":"    ..","'":"..    ","!":"... . ","-":"    ..      ","?":"...  . .     .    "},gt=new Map;function yt(s,i,n=1/0){const e=`${s}%${i}%${n}`;if(!gt.has(e)){const{fittingText:o,width:h,height:a}=function(t,s){const i=t.split("\n"),n=[];for(const t of i){const[i,...e]=t.split(" ");let o=i;for(const t of e)xt(o+" "+t)<=s?o+=" "+t:(n.push(o),o=t);n.push(o)}return{fittingText:n.join("\n"),width:Math.max(...n.map(xt)),height:n.length*(ft+pt)-pt}}(s,n),[r,l]=t(h,a);l.fillStyle=i,l.beginPath();let c=0,d=0;for(const t of o)"\n"===t?(c+=ft+pt,d=0):(Mt(l,d,c,t),d+=1+bt(wt[t]));l.fill(),gt.set(e,r)}return gt.get(e)}function xt(t){return[...t].reduce((t,s)=>t+bt(wt[s]),t.length-1)}function Mt(t,s,i,n){const e=wt[n],o=bt(e);for(let n=0;n<e.length;n+=1)" "!==e[n]&&t.rect(s+n%o,i+Math.floor(n/o),1,1)}function bt(t){return t.length/ft}const Pt=5,kt=7,vt=6,zt=Math.round((Pt+vt/2)*m);function It(t,s,i,n,e,o){const h=yt(s,d(0),(e-i)/m+1-2-2*Pt-vt/2),a=(2*(1+Pt)+h.height)*m;mt(t,i+("left"===o?vt/2*m:0),n,e-i-(o?vt/2*m:0),a,d(6),d(0)),o&&function(t,s,i,n){t.fillStyle=d(0);for(let e=0;e<vt/2;e+=1)t.fillRect(s+n*e*m,i-e*m,m,2*(e+1)*m);t.fillStyle=d(6);for(let e=0;e<vt/2;e+=1)t.fillRect(s+n*(e+1)*m,i-e*m,m,2*(e+1)*m)}(t,"left"===o?i:e-m,n+zt,"left"===o?1:-1),t.drawImage(h,i+(1+kt)*m,n+(1+Pt)*m,h.width*m,h.height*m)}const Tt=[l("old wizard"),l("old wizard",1),l("old wizard",2)],Ct=Tt[0].width,St=8*m+Ct*u/2,Et=f/10;class Rt{constructor(){[this.canvas,this.context]=t(f,f),this.opacity=0,this.showscoreTimestamp=1/0}tick(t,s){!isFinite(this.showscoreTimestamp)&&s.mid.y>w&&0===s.dr&&(this.showscoreTimestamp=t+400,this.prerender()),this.opacity=Math.min(Math.max((t-this.showscoreTimestamp)/400,0),1)}prerender(){this.drawWizardWithBubble(.25*f,0,"soon i will be saying something sarcastic.\ni like precision."),this.drawWizardWithBubble(.5*f,1,"i'm not even sure why i'm here.\nthat toast looks delicious though.\nit will be enough if it just lands butter up.",!0),this.drawWizardWithBubble(.75*f,2,"oh, young'uns these days! no appreciation for the form.\n\nwhat point is there to be precise if it looks plain awful in the end?")}drawWizardWithBubble(t,s,i,n){const e=t-St;this.drawWizard(Et+St,e,s,n),It(this.context,i,n?Et:Et+2*St,e,n?f-Et-2*St:f-Et,n?"right":"left")}drawWizard(t,s,i,n){this.context.setTransform(n?-1:1,0,0,1,n?f:0,0),mt(this.context,t-St,s,2*St,2*St,d(4),d(2));const e=Tt[i];this.context.drawImage(e,t-e.width/2*u,s+St-e.height/2*u,e.width*u,e.height*u),this.context.setTransform(1,0,0,1,0,0)}draw(t){t.image(this.canvas,new P(f/2,f/2),{absolute:!0,globalAlpha:this.opacity,imageScale:1})}}const At=l("toast"),Wt=1.2,Ot=.002,Dt=1e-6,Lt=.05,Ft=.001,Bt=25e-5,$t=32,jt=.2,Ht=1e-5,qt=[new P(-M/2,-x/2),new P(-M/2,x/2),new P(M/2,x/2),new P(M/2,-x/2)];function Vt(t){return t.y>g}class Yt{constructor(t=0,s=-2e3){this.collisionPoint=null,this.dr=Math.sign(Math.random()-.5)*(.01*Math.random()+.005),this.dx=Math.sign(Math.random()-.5)*(.05*Math.random()+.025),this.dy=Wt,this.lastPhase=!1,this.mid=new P(t,s),this.r=0}tick(t){const s=this.mid.x,i=this.mid.y,n=this.r;if(null!==this.collisionPoint&&this.handleCollision(this.collisionPoint,t),!this.lastPhase){this.mid.x+=this.dx*t,this.mid.y+=this.dy*t,this.r+=this.dr*t,this.wrap(),this.dy=this.dy*(1-Ot*t)+Wt*Ot*t,this.dr=this.dr*(1-Dt*t)+Math.sign(Math.PI-this.r)*Lt*Dt*t;const e=1-t**this.getDampeningPower();if(this.dx*=e,this.dy*=e,this.dr*=e,this.isColliding()){const[e,o]=this.findCollisionPoint(s,i,n,t);this.collisionPoint=e,this.handleCollision(this.collisionPoint,o)}}}getDampeningPower(){return-3*(this.mid.y<p?1:this.mid.y<w?((w-this.mid.y)/(w-p))**.5*.8:1)}isColliding(){return this.getTransformedPoints().some(Vt)}findCollisionPoint(t,s,i,n){let e=this.mid,o=0,h=n;for(let n=0;n<$t;n+=1){const n=(o+h)/2;this.mid.x=t+this.dx*n,this.mid.y=s+this.dy*n,this.r=i+this.dr*n,this.wrap();const a=this.getTransformedPoints().find(Vt);a?(h=n,e=a):o=n}return this.mid.y+=g-e.y,e.y=g,[e,n-h]}handleCollision(t,s,i=!1){const n=t.sub(this.mid).wrap();if(this.lastPhase){const t=this.getIntersection(this.mid,new P(this.mid.x,g+1));null!==t&&(this.dr-=s/100*Bt*Math.sign(n.x)*Math.max(g-t.y,0)**.6)}else this.dx=0,this.dy=0,this.dr=Bt*-Math.sign(n.x),this.lastPhase=!0;const e=this.dr*s,o=this.getClosestRightAngle();if(Math.sign(this.r-o)===Math.sign(this.r+e-o)||i){const t=n.rotate(e).sub(n);this.mid=this.mid.sub(t),this.mid.y=Math.min(this.mid.y,g-x/2),this.r+=e,this.wrap()}else{const i=(o-this.r)/this.dr;this.handleCollision(t,i,!0),this.collisionPoint=t.sub(this.mid).scale(-1,1).add(this.mid),this.dr*=jt,Math.abs(this.dr)<Ht&&(this.dr=0,this.collisionPoint=new P(this.mid.x,g)),this.handleCollision(this.collisionPoint,s-i,!0)}}getClosestRightAngle(){const t=.25*Math.PI;for(const s of[0,.5*Math.PI,Math.PI,1.5*Math.PI])if(Math.abs(this.r-s)<=t)return s;return 2*Math.PI}tryApplyForce(t){if(null===t||this.mid.y>=p)return null;const[s,i]=t;if(null===this.getIntersection(this.mid,s))return null;const n=this.getIntersection(s,i);if(null===n)return null;const e=n.sub(s).scale(Ft),o=n.sub(this.mid);return this.applyForce(o,e),n}getIntersection(t,s){const i=this.getTransformedPoints();i.push(i[0]);let n=null;for(let e=0;e<i.length-1;e+=1){const o=P.intersection(t,s,i[e],i[e+1]);if(null!==o){t.distance(o)<1/0&&(n=o)}}return n}getTransformedPoints(){return qt.map(t=>t.rotate(this.r).add(this.mid))}applyForce({x:t,y:s},{x:i,y:n}){this.dx+=i,this.dy+=n,this.dr+=(t*n-s*i)*Bt}wrap(){for(this.mid.wrap();this.r>2*Math.PI;)this.r-=2*Math.PI;for(;this.r<0;)this.r+=2*Math.PI}draw(t){t.image(At,this.mid,{r:this.r})}}const Jt=[l("wizard"),l("wizard",1),l("wizard",2),l("wizard",3),l("wizard",4)],Xt=new P(f/2,f/4),Gt=1,Kt=Jt.length-1-Gt,Nt=100,Qt=.003,Ut=8;class Zt{constructor(){this.offset=-1/0,this.phase=0,this.startTimestamp=0}tick(t,s){if(this.offset=Math.sin(t*Qt)*Ut,s){const s=Math.floor((t-this.startTimestamp)/Nt);0===this.phase?(this.startTimestamp=t,this.phase=1):this.phase<Gt?this.phase=s%Gt+1:this.phase=(s-Gt)%Kt+Gt+1}else this.phase=0}draw(t){const s=Xt.add(new P(0,this.offset));t.image(Jt[0],s,{absolute:!0}),this.phase>0&&t.image(Jt[this.phase],s,{absolute:!0})}}const _t=20;const ts=1,ss=20,is=5,ns=80,es=400,os=2*es,hs=.05*es,as={basic:l("sparkles",0),hit:l("sparkles",1)};class rs extends k{constructor(t,s,i){super(t.x+(Math.random()-.5)*ns,t.y+(Math.random()-.5)*ns,t.timestamp+s),this.r=Math.random()*Math.PI,this.dx=(Math.random()-.5)*ns/es,this.dy=(Math.random()-.5)*ns/es,this.dr=Math.random()/100,this.isHit=i}isExpired(t){return t-this.timestamp>(this.isHit?os:es)}tick(t){this.x+=this.dx*t,this.y+=this.dy*t,this.r+=this.dr*t;const s=1-t**-1.5;this.dx*=s,this.dy*=s,this.dr*=s}draw(t,s){const i=this.isHit?as.hit:as.basic,n=function(t,s){return s<hs?s/hs:(t-s)/(t-hs)}(this.isHit?os:es,s-this.timestamp)**.5,e=this.isHit?1:.5;t.image(i,new P(this.x,this.y),{absolute:!0,globalAlpha:n*e,r:this.r})}}class ls{constructor(){this.now=-1/0,this.sparkles=new Set}add(t,s=!1){for(let i=0;i<(s?ss:ts);i+=1)this.sparkles.add(new rs(t,is*i,s))}tick(t,s){this.now=t,this.removeOldSparkles(),this.updateSparkles(s)}removeOldSparkles(){const t=[];for(const s of this.sparkles)s.isExpired(this.now)&&t.push(s);for(const s of t)this.sparkles.delete(s)}updateSparkles(t){for(const s of this.sparkles)s.tick(t)}draw(t){for(const s of this.sparkles)s.draw(t,this.now)}}const cs=120;document.documentElement.style.background=d(1);const ds=new class{constructor(){this.camera=new P(0,z),[this.canvas,this.context]=t(f,f),document.body.appendChild(this.canvas),this.dy=0}trackToast(t){const s=t.mid.y,i=Math.max(Math.min((s-p)/(w-p),1),0),n=Math.max(Math.min(I*i+(s+z)*(1-i),s+z),.8*s+f/4);this.dy=n-this.camera.y,this.camera.y=n}getOffset(){return v.sub(this.camera)}rect(t,s,i){const{absolute:n,r:e,z:o,...h}={...T,...i};Object.assign(this.context,h);const{x:a,y:r}=this.getTransformedPoint(n,t,o),{x:l,y:c}=this.getTransformedPoint(n,s,o);this.context.beginPath(),this.context.rect(a,r,l-a,c-r),this.context.closePath(),h.fillStyle&&this.context.fill(),h.strokeStyle&&this.context.stroke()}image(t,s,i){const{absolute:n,imageScale:e,r:o,snapToBottom:h,snapToLeft:a,snapToRight:r,snapToTop:l,z:c,...d}={...T,...i};Object.assign(this.context,d);const{x:u,y:m}=this.getTransformedPoint(n,s,c),p=t.width*e,w=t.height*e;this.setRotation(o,u,m);const g=a?0:r?-p:-p/2,y=l?0:h?-w:-w/2;this.context.drawImage(t,u+g,m+y,p,w),u<f/2?(this.setRotation(o,u+f,m),this.context.drawImage(t,u+g+f,m+y,p,w)):(this.setRotation(o,u-f,m),this.context.drawImage(t,u+g-f,m+y,p,w)),this.setRotation(0)}getTransformedPoint(t,s,i){return t?s.round():s.sub(this.camera).scale(i).add(v).round()}setRotation(t,s=0,i=0){const n=Math.cos(t),e=Math.sin(t);this.context.setTransform(n,e,-e,n,s*(1-n)+i*e,i*(1-n)-s*e)}clear(){this.context.clearRect(0,0,f,f)}},us=new class{constructor(){this.lastPoint=null,this.now=-1/0,this.points=new Set,this.pressed=!1,this.sparkles=new ls}init(t){t.canvas.addEventListener("mousedown",s=>{s.preventDefault(),this.start(s,t)}),t.canvas.addEventListener("touchstart",s=>{s.preventDefault(),this.start(this.normalizeTouchEvent(s),t)}),t.canvas.addEventListener("mousemove",s=>{s.preventDefault(),this.move(s,t)}),t.canvas.addEventListener("touchmove",s=>{s.preventDefault(),this.move(this.normalizeTouchEvent(s),t)}),window.addEventListener("mouseup",()=>{this.stop()}),window.addEventListener("touchend",()=>{this.stop()}),window.document.addEventListener("visibilitychange",()=>{this.stop()}),window.addEventListener("contextmenu",t=>{t.preventDefault()})}normalizeTouchEvent(t){return t.touches[0]}start(t,s){this.pressed=!0,this.pushPoint(t,s.canvas)}move(t,s){this.pressed&&this.pushPoint(t,s.canvas)}stop(){this.clearPoints(),this.pressed=!1}pushPoint(t,s){const{left:i,top:n,width:e,height:o}=s.getBoundingClientRect();this.lastPoint=new k((t.clientX-i)*f/e,(t.clientY-n)*f/o,this.now),this.points.add(this.lastPoint),this.sparkles.add(this.lastPoint)}tick(t,s,i,n){if(this.sparkles.tick(t,s),this.now=t,!this.pressed)return;this.removeOldPoints();const e=this.getIntersectionPoint(n,i);null!==e&&(this.sparkles.add(k.fromPoint(e.add(i),t),!0),this.clearPoints())}getIntersectionPoint(t,s){const i=t.tryApplyForce(this.getCurrentVector(s));return null!==i?i:null===this.lastPoint?null:t.tryApplyForce(this.getCurrentVector(s.sub(new P(this.lastPoint.x<f/2?f:-f,0))))}getCurrentVector(t){if(this.points.size<2||null===this.lastPoint)return null;const[s]=this.points;return[s.sub(t),this.lastPoint.sub(t)]}removeOldPoints(){const t=[];for(const s of this.points)s.timestamp<this.now-cs&&t.push(s);for(const s of t)this.points.delete(s);0===this.points.size&&(this.lastPoint=null)}clearPoints(){this.points=new Set,this.lastPoint=null}draw(t){this.sparkles.draw(t)}};us.init(ds),function({display:t,mouse:s}){const i=new Yt,n=new dt,e=new Zt,o=new Rt,h=[e,new A,new A(2),new A(3),i,n,o,s];let a=0,r=!0;requestAnimationFrame(function l(c){requestAnimationFrame(l);const d=Math.min(c-a,_t);if(a=c,r)r=!1;else{t.clear(),i.tick(d),n.tick(c),o.tick(c,i),t.trackToast(i),s.tick(c,d,t.getOffset(),i),e.tick(c,s.pressed),U(t);for(const s of h)s.draw(t)}})}({display:ds,mouse:us});</script>
