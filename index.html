<title>Toast</title><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><style>canvas{left:50%;max-height:100%;max-width:100%;position:fixed;top:50%;transform:translate(-50%,-50%);}</style><body><script>"use strict";function A(A,t){const s=document.createElement("canvas");s.width=A,s.height=t;const i=s.getContext("2d");return i.imageSmoothingEnabled=!1,[s,i]}var t={parts:[{name:"wizard",bounds:[0,43,0,35,0,4],size:[44,36],data:"                    ====                                       =!!!!=                                      =!!!!=                                     =!!!!!!=                                    =!!!!!!=                                    =!!!!!!=                                    =!!!!!!=                                    =!!!!!!=                      ==>            =!!!!=            >==      <<==>===      >==========>      ===>==<<     <==>==========>>>====>>>==========>==<       ==>=============>>>>=============>==        =>================================>=        =>            ========            >=                      >======>                                    >======>                                    =>====>=                                    =>====>=                                    =>====>=                                    =>====>=                                    =>====>=                                    >======>                                   >========>                                  ==========                                  ==========                                  ==========                                  ==========                                  ==========                                 ============                                ============                                ============                                >>>>>>>>>>>>                                ============                                ============                                  <<    <<                                    <<    <<                                                                                                                                                                                                                                                                                                                                                                                                                                 AA                                  AA     AAAA                                AAAA    AAAA                                AAAA     AA                                  AA                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             AAAA                                AAAA   AAAAAA                              AAAAAA AAAAAAAA                            AAAAAAAAAAA@@AAA                            AAA@@AAAAAA@@AAA                            AAA@@AAAAAAAAAAA                            AAAAAAAA AAAAAA                              AAAAAA   AAAA                                AAAA                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    AAAA                                AAAA   AAAAAA                              AAAAAA AAA@@AAA                            AAA@@AAAAA@@@@AA                            AA@@@@AAAA@@@@AA                            AA@@@@AAAAA@@AAA                            AAA@@AAA AAAAAA                              AAAAAA   AAAA                                AAAA                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    AAAA                                AAAA   AA@@AA                              AA@@AA AA@@@@AA                            AA@@@@AAA@@@@@@A                            A@@@@@@AA@@@@@@A                            A@@@@@@AAA@@@@AA                            AA@@@@AA AA@@AA                              AA@@AA   AAAA                                AAAA                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              "},{name:"sparkles",bounds:[0,6,0,6,0,1],size:[7,7],data:"   A      A     A@A  AA@@@AA  A@A     A      A      @      @     @?@  @@???@@  @?@     @      @   "},{name:"planet",bounds:[0,115,0,84,0,0],size:[116,85],data:"                                                                                      &&&&&&&&                                                                                                    &&&&&&&&&&&&&&&&&&&&                                                                                       &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&                                                                     AAAAAAAA    &&&&&&&&&&&%&&%&&%%&&%&&%&%&&&&&&&&&&&                                                            AAAAAAAAAAAAAAAAAAA&&&&&&%%&&&&&&&&&&&&&&&&&&&&%&&&&&&&&&&                                                      AAAAAAAAAAAAAAAAAAAAAAAAAA&&&&&&&&&&&&&&&&&&&&&&&&&&&&%&&&&&&&&&                                                 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%&&&&&&%%%&&%&&%&&%&&&&&&&&&&&%&&&&&&&&                                             AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&&&&&&&&&&&&&&&&&%&&%&&&&&&&&%&&&&&&&                                         =AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&&&&&&&&&&&&&&&&&&&&%&&&&&&&%&&&&&&&                                        =AAAAAAAAAAAAAAAA===AAAAAAAAAAAAAAAAAAAAA&%&&%&%&&%&&&&&&&&&&%&&&&&&&&&&&&&&                                       ==AAAAAAAAAAAA==AAA===AAAAAAAAAAAAAAAAAAAAA&&&&&&&&&&&%&&%&&&&&&%&&&&&&%&&&&&&                                     =AAAAAAAAAAAAAA=AAA====AAAAAAAAAAAAAAAAAAAAAAA       &&&&&&&&&&&&&&%&&&&&&&&&&&&                                  AAAAAAAAAAAAAAAAAA=AA====AAAAAAAAAAAAAAAAAAAAAAAA          &&&&%&&&&&&%&&&&&%&&&&&                                =AAAAAAAAAAAAAAAAAAA=AAA===AAAAAAAAAAA=AAAAAAAAAAAAA          &&&&&&&&&&&%&&&&&&&&&&&                               AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=AAAAAAAAAAAAAA          &&&&%&&&&&&&&&&&&&&&&&                              AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=AAAAAAAAAAAAAAA           &&&&&&&&&&%&&&&%&&&&                             AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==           &&&%&&&&&&%&&&&&&&&                             AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=          &&&&&&&&&&&&&&&&&&&                            AAAAAAAAA==AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=AAAA=           &&&&%&&&&&%&&&%&&&                           AAAAAAA==AA==AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==AAAAA          &&&&&&&&&&&&&&&&&&                          AAAAAAAA=AAA==AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==AAAAA          &&&&&&&&&%&&&&&&&                         AAAAAAAA==AAA==AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA===AAA           &&&%&&&&&&&&%&&&                         AAAAAAAA===AA==AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=AAA          &&&&%&&&%&&&&&&&                        AAAAAAAAAA==AAAAAAAAAAAAAAAAAAAAAAAAA==A===AAAAAAAAAAAAAAAAAAAAAAA          &&&&&&&&%&&&%&&&                        AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=AA===AAAAAAAAAAAAAAAAAAAAAAAA         &&&&&&&&&&&&&&&&                       AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==AAA==AAAAAAAAAAAAAAAAAAAAAAAA         &&&&%&&&&&&&&&&&                       AAAAAAAAAAAAAAAAAAAAAAA=AAAAAAAAAAAAA=AAAA==AAAAAAAAAAAAAAAAAAAAAAAAA       &&&&&&&&&&&&%&&&                       AAAAAAAAAAAAAAAAAAAAAA==AAAAAAAAAAAAAAA=AAAA=AAAAAAAAAAAAAAAAAAAAAAAAAA      &&&&&%&&&%&&&&&&                      %AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA===AAAAAAAAAAAAAAAAAAAAAAAAAAAAA      &&&&&&&&&&&&&&&                      %%AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA     &&&&%&&&&&&&&&&                     %%AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=AAAAAAAAAAAAAAAAAA    &&&&&&&&%&&&&%&&                    %%%AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA    &&&&%&&&&&&&&&&                    %%%%AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA    &&&&&&&%&&&&&&&                   %%%%%AAAAAAAAA=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=AAAAAAAAA  &&&&&&&&&&&&&&&                   %%%%$AAAAAAAAAA=AA=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==AAAAAAAAA  &&&%&&&%&&&&%&&                  %%%%$%AAAAAAAAAA=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA &&&&&&&%&&&&&&&                  %%%%%%%AAAAAAAAAAAAAAAAAAAAAAAAA====AAAAAAAAAAAA=AAAAAAAAAAAAAAAAAAAAAAAAA==AAAAAA &&&&&&&&&&&&&&&                  %%$%%%%=AAAAAAAAAAAAAAAAAAAAAA=AA====AAAAAAAAAAA=AA=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&&&&&&&&&&&&%&&                  %%%%%%%$=AAAAAAAAAAAAAAAAAAAAA==AAAA===AAAAAAAAAA=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&&&&%&&%&&&&&&                  %%%%%%%$%==AAAAAAAAAAAAAAAAAAA=AAAAAAA==AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=AAAAAAAAAAAA&&&&%&&&&&&&&&                  %%%$%%%%%%==AAAAAAAAAAAAAAAAAAA==AAAAAA==AAAAAAAAAAAAAAAAAAAAAAAAAAA==A==AAAAAAAAAA&&&&&&&&%&&&%&&                 %%%%%%%%%%%==AAAAAAAAAAAAAAAAAAAA=AAAAAA==AAAAAAAAAAAAAAAAAAAAAAAAAAA=AA==AAAAAAAAAA&&&&&&&&&&&&&&                  %%$%%%%$%%%===AAAAAAAAAAAAAAAAAAA=AAAAAA==AAAAAAAAAAAAAAAAAAAAAAAAAAA=A==AAAAAAAAAA&&&&%&&&&&&&&&&                 %%%%%%%%%%%$===AAAAAAAAAAAAAAAAAAA==AAAA===AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&&&&&&&&%&&&%&&                 %%%%%%%%$%%%%====AAAAAAAAAAAAAAAAAAA==AAA==AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&&&&&&&&%&&&&&&                 %%%%$%%%%%%%%%=====AAAAAAAAAAAAAAAAAAA==AAAAAAAAAAAAAAAAA=A=AAAAAAAAAAAAAAAAAAAAAAA&&&&%&&&%&&&&&&                  %%%%%%%$%%%%% =====AAAAAAAAAA=AAAAAAAAAAAAAAAAAAAAAAAAAAA=A=AAAAAAAAAAAAAAAAAAAAAA&&&&&&&&&&&&&%&                  %%%$%%%%%%%$%%  =====AA==AAAAA=AAAAAAAAAAAAAAAAAAAAAAAAAAA=AAAAAAAAAAAAAAAAAAAAAAA&&&&&&&&%&&&&&&&                  %%%%%%%$%%%%%   =====AA===AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&&&&&%&&%&&&%&&                    %%$%%%%%%%%%%   ======AA==AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=AAAAAAAAAAA&&&&&&&&&&&&&&&&                   %%%%%%%%%%%%%     ======A==AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=AAAAAAAAAA&&&&&%&&%&&&&%&                     %%%%%%%$%%$%%     ======A==AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&&&&&&&&&&&&&&&                     %%%%%%%%%%%%%%     =========AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&&&&&%&&%&&&%&&&                     %%%$%%%$%%%%%%     ========AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=AAAAAAAAAAAAA&&&&&&&&&&&&&&&&                       %%%%%%%%%%%%%       =======AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==AAAAAAAAAAAA&&&&&%&&&%&&&&&&                       %%%%%%%%%%%$%%       =========AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&&&&&&&&&%&&&%&&&                       %%%%%%%%%%%%%%        =========AAAAAAAAAAAAAAAAAAAA=AAAAAAAAAAAAAAAAAAAA==A&&&&%&&&&&&&&&&&                        %%%$%%%%$%%%%%%         ========AAAAAAAAAAA=AAAAAAAAAAAAAAAAAAAAAAAAAAAA==&&&&&&&&&%&&&%&&AA                        %%%%%%%%%%%$%%%         ==========AAAAAAAAA=AA=AAAAAA=AAAAAAAAAAAAAAAAAA=&&&&&%&&&&&&&&&&&A                         %%%$%%%$%%%%%%%          =========AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&&&&&%&&&&%&&&%&&&AA                        %%%%%%%%%%%%$%%%          ==========AAAAAAAAAAAA=====AAAA==AAAAAAAAAAA&&&&&%&&&&%&&&&&&&AAA                         %%%%$%%%%%%%%%%%           ==========AAAAA==A=AAA====AAA==AAAAAAAAAA&&&&&&&&&&&&&&&&&&AAAAA                         %%%%%%%%$%%%%%%%%          ============AA==A==AAAAA===AA=AAA=AAAAAA&&&&&%&&&&%&&&&&%&AAAAA                          %%%%$%%%%%%%%$%%%%          ============A=AA=AAAAAA===AA=AAA=AAAA&&&&&&&&&&%&&&&&&&&AAAAA                           %%%%%%%%$%%%%%%%%%           ============AAA=AAAAAA====AAAAA=AA&&&&&&%&&&&%&&&&%&&&AAAAAA                           %%%%%%%%%%%%%%%%%%%          =============A==AAAAAAA===AAAAAA&&&&&&%&&&&%&&&%&&&&AAAAAA                             %%%%%%%%%$%%%%%%%%%           ===============AAAAAAA===AAA&&&&&&&&&&&&&&&&&&&&&&AAAAAAA                             %%%%$%%%%%%%%%$%%%%%          ===============AAAAAAA===A&&&&&&&%&&&&&%&&&&%&&&AAAAAAAA                              %%%%%%%%%%$%%%%%%%%%%%          ===============AAAAAA&&&&&&&&&&&&&%&&&&&&&&&AAAAAAAAA                               %%%%%%%%%%%%%%%$%%%%%%%          ===============AAA&&&&&&&&&%&&&&&&&&&&%&&AAAAAAAAA=A                                %%%%%$%%%%$%%%%%$%%%%%%%%%      ==============&&&&&&&&&&%&&&&&%&&&&&&&&&AAAAAAAA==                                  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%     ====&&&&&&&&&&&&&&&%&&&&&%&&&&&%&&&&AAAAAAAAA==                                    %%%%%%%%%%$%%%%%%$%%%%%%%%%%%%%%&&&&&&&&&&&&&&&&%&&&&&&&&&&&&&&&&&&AAAAAAAAAAA=                                      %%%%$%%%%%%%%%%%%%%$%%%%%%%%%%%%&&&&&&&&&&&&%&&&&&&&&&%&&&&&%&&&&AAAAAAAAAAAA                                       %%%%%%%%%%$%%%%%%%%%%%%$%%%%%%%%%&&&&&&&&%&&&&&&&&%&&&&&&%&&&&&AAAAAAAAAAAA                                          %%%%%%%%%%%$%%%%%%%%%%%%%%$%%$%%%&&%&&&&&&&&&&%&&&&&&&&&&&AAAAAAAAAAAAAA                                            %%%%%%$%%%%%%$%%%%%%%%%%%%%%%%%%%%&&&&&&&&&%&&&&&&&&%&&&AAAAAAAAA===AA                                               %%%%%%%%%%%%%%%$%%$%%%%%%%%%%%%%$%&&%&&%&&&&&&%&&&&&&&===AAAAAAA                                                     %%%%%%$%%%%%%%%%%%%%%$%%%$%%$%%%%%%&&&&&&&&&&&&&&&========AAA                                                        %%%%%%%%$%%%%%%%%%%%%%%%%%%%%%%%%%%&&&&&%&&&&&==========                                                              %%%%%%%%$%%%%%%%%%%%%%%%%%%%%%%$%%%&&&&&                                                                              %%%%%%%%$%%$%%%%%%%%%%$%%$%%%%%%%%%&&                                                                                  %%%%%%%%%%$%%$%%$%%%%%%%%%%%                                                                                            %%%%%%%%%%%%%%%%%%                                                                                                      %%%%%%%%%                                                                                     "},{name:"toast",bounds:[0,99,0,12,0,0],size:[100,13],data:"   //////////////////////////////////////////////////////////////////////////////////////////////      //////////////////////////////////////////////////////////////////////////////////////////////      //////////////////////////////////////////////////////////////////////////////////////////////   ))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))"},{name:"pillar",bounds:[0,11,0,5,0,4],size:[12,6],data:"   &&&&&&&& &&&&&&&&&&&&%&&&&&&&&&&%#%%%%&&&&%%##$$$$%%%%%%# $$$$%%%%    &&&&&&&&   &&&&&&&&&&&&%%%&&&&&&&&%#$$%%%%&&&&##$$$$$$%%%%#   $$$$%%%%  &&&&&&&&&& &&&&&&&&&&&&%&&&&&&&&&&%#$%%%%%%%%&###$$$$$$$$%# #$$$$$$$$%  &&&&&      %%%&&&&&&   #$$%%%&&&&&%##$$$$%%%&&###$$$$$$$%%# #$$$$$$$%%       &&&&&    &&&&&&%%#%&&&&&%%%%%##$%%%%$$$%%###$$$$$$$%%# #$$$$$$$%% "},{name:"brick",bounds:[0,4,0,3,0,0],size:[5,4],data:"######$$%##$$%##$$%#"},{name:"old wizard",bounds:[0,63,0,63,0,2],size:[64,64],data:"                               666666                                                     66666666666666                                                 6666666666666666                                              5666666666!!!!!66666                                          5566666666!!!!!!!!!6666                                        6566666666!!!!!!!!!!!!666                                     6555666666!!!!!!!!!!!!!!!666                                   66556666666!!!!!!!!!!!!!!!!666                                 66565666666!!!!!!!!!!!!!!!!!6666                               66655566666!!!!!!!!!!!!!!!!!!!666                               6655566666!!!!!!!!!!!!!!!!!!!!6666                             66656566666!!!!!!!!!!!!!!!!!!!!6666                            66665556666!!!!!!!!!!!!!!!!!!!!!!6666                          666665566666!!!!!!!!!!!!!!!!!!!!!!6666                          666655566666!!!!!!!!!!!!!!!!!!!!!!!6666                         66665656666!!!!!!!!!!!!!!!!!!!!!!!!6666                        666665556666!!!!!!!!!!!!!!!!!!!!!!!!6666                        666665566666!!!!!!!!!!!!!!!!!!!!!!!!!6666                      6666655566666!!!!!!!!!!!!!!!!!!!!!!!!!6666                      666665656666!!!!!!!!!!!!!!!!!!!!!!!!!!6666                      666665556666!!!!!!!!!!!!!!!!!!!!!!!!!!6666                     6666655566666!!!!!!!!!!!!!!!!!!!!!!!!!!!666                     666665556666!!!!!!!!!!!!!!!!!!!!!!!!!!!!6666                    666665656666!!!!!!!!!!!!!!!!!!!!!!!!!!!!6666                    666655556666!!!!!!!!!!!!!!!!!!!!!!!!!!!!6666                    666655566666!!!!!!!!!!!!!!!!!!!!!!!!!!!!6666                   6666655566666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!666                   6666656566666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!666                   666665556666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!666                   666665566666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!666                   666655566666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!666                   66665656666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!666                   66665556666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!6666                  66665556666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!6666                  66665556666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!6666                  66665656666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!6666                  66665556666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!6666                  66665556666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!6666                  6666655566666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!6666                  6666656566666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!6666                  6666655566666!!!!!!!!!!!!!!!!!!!!!!!!!!!!!6666                  6666655566666!!!!!!!!!!!!!!!!!!!!!!!!!!!!66666                  66666565666666!!!!!!!!!!!!!!!!!!!!!!!!!!666666                  66666555666666!!!!!!!!!!!!!!!!!!!!!!!!!!66666                   666666556666666!!!!!!!!!!!!!!!!!!!!!!!!666666                   66666656566666666!!!!!!!!!!!!!!!!!!!!!666666                    66666655566666666666!!!!!!!!!!!!!!!666666666                     666666556666666666666666666666666666666666                       6666656566666666666666666666666666666666                         66666556666666666666666666666666666666                            66656566666666666666666666666666666                              66655666666666666666666666666666                       6666666666666666666666666666666666666666666666666666          5556666666666666666666666666666666666666666666666666666666    55555556666666666666666666666666666666666666666666666666666555  555555665666666666666666666666666666666666666666666666555556555565555665555566666666666666666666666666666666666655555655555566556665655555565555565566666666666666666666666655556555556555555565666666555565555565555565555655556555556555565555565555565555566666666666665555556555565555565555655555655555655555655555655666666666666666666556555556555565555565555565555565555565556666666666666666666666666666556555556555556555556555555655566666666666666666666666666666666666666666666665655555656666666666666666666666666666666666666666666666666666666666666666666666666666666666666666                               ------                                                     --------------                                                 ----------------                                              .-------------------                                          ..---------!!!!!!------                                        -.--------!!!!!!!!!!-----                                     -...-------!!!!!!!!!!!!!----                                    -..------!!!!!!!!!!!!!!!!----                                  -.-.-----!!!!!!!!!!!!!!!!!!----                                --...----!!!!!!!!!!!!!!!!!!!!---                               --...-----!!!!!!!!!!!!!!!!!!!!!---                              --.-.----!!!!!!!!!!!!!!!!!!!!!!!--                             ---...----!!!!!!!!!!!!!!!!!!!!!!!---                           ----..----!!!!!!!!!!!!!!!!!!!!!!!!!--                           ---...---!!!!!!!!!!!!!!!!!!!!!!!!!!---                          ---.-.---!!!!!!!!!!!!!!!!!!!!!!!!!!!--                         ----...--!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                         ----..---!!!!!!!!!!!!!!!!!!!!!!!!!!!!---                        ---...---!!!!!!!!!!!!!!!!!!!!!!!!!!!!---                       ----.-.---!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                       ----...---!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                      ----...---!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                      ----...---!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!---                     ----.-.---!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                     ---....--!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                    ----...---!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                    ----...---!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                    ----.-.---!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                   -----...---!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                   -----..----!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                   ----...----!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                   ----.-.----!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                   ----...----!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!---                  ----...----!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!---                  ----...----!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!---                  ----.-.----!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!---                  ----...----!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!---                  ----...----!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!--                   ----...----!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!---                   ----.-.----!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!---                   ----...-----!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!---                   ----...-----!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!---                   ----.-.------!!!!!!!!!!!!!!!!!!!!!!!!!!!!!---                   ----...-------!!!!!!!!!!!!!!!!!!!!!!!!!!!---                    -----..-------!!!!!!!!!!!!!!!!!!!!!!!!!!----                    -----.-.-------!!!!!!!!!!!!!!!!!!!!!!!!----                      ----...-------!!!!!!!!!!!!!!!!!!!!!!!-----                      -----..----------!!!!!!!!!!!!!!!!!!!-----                        ----.-.-----------!!!!!!!!!!!!!!!------                          ----..---------------!!!!!!!!!-------                            ---.-.-----------------------------                               --..---------------------------                       ----------------------------------------------------          ..--------------------------------------------------------    .---..-------------------------------------------------------.  .----.....---------------------------------------------......---..--...---......----------------------------------.....-----..----....----..----..........------------------......---..-----....----....-..------..------...................--..------..-----..---------...-----..------...----..-----..------..------..-----.-------------...--..------..-----..-----..-------..------..--..-----------------......---..------..------..------..------....-------------------------.....------..------..------..-......--------------------------------..----..-------..---......--------------                               333333                                                     33333333333333                                                 3333333333333333                                              23333333333333333333                                        3232333333333333333333333                                      33223333333333!!!!!!3333333                                    332223333333!!!!!!!!!!!333333                                  333223333333!!!!!!!!!!!!!333333                                333232333333!!!!!!!!!!!!!!!!33333                              333322233333!!!!!!!!!!!!!!!!!!3333                             333322233333!!!!!!!!!!!!!!!!!!!!3333                            333323233333!!!!!!!!!!!!!!!!!!!!3333                           333332223333!!!!!!!!!!!!!!!!!!!!!!3333                          333332233333!!!!!!!!!!!!!!!!!!!!!!3333                         3333322233333!!!!!!!!!!!!!!!!!!!!!!!3333                        333332323333!!!!!!!!!!!!!!!!!!!!!!!!3333                       3333332223333!!!!!!!!!!!!!!!!!!!!!!!!3333                       3333332233333!!!!!!!!!!!!!!!!!!!!!!!!!3333                     3333332223333!!!!!!!!!!!!!!!!!!!!!!!!!!3333                     3333332323333!!!!!!!!!!!!!!!!!!!!!!!!!!3333                    33333332223333!!!!!!!!!!!!!!!!!!!!!!!!!!3333                    3333332223333!!!!!!!!!!!!!!!!!!!!!!!!!!!3333                    3333332223333!!!!!!!!!!!!!!!!!!!!!!!!!!!!3333                  33333332323333!!!!!!!!!!!!!!!!!!!!!!!!!!!!3333                  33333322223333!!!!!!!!!!!!!!!!!!!!!!!!!!!!3333                  33333322233333!!!!!!!!!!!!!!!!!!!!!!!!!!!!!333                 33333332223333!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!333                 33333332323333!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!333                 33333332223333!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!333                 33333332233333!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!333                 33333322233333!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!333                 33333323233333!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!333                 33333322233333!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!3333                33333322233333!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!3333                33333322233333!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!3333                33333323233333!!!!!!!!$%%$!!!!!!!!$$!!!!!!!!3333                33333322233333!!!!!!$$$$$$%$%%%$$&&&&$$!!!!!3333                33333322233333!!!!!%$%%%&%%%%%%%&%%%&&%&%!!!333                 33333322233333!!!!$$%$%%$%%$$$%%$$$%%$$&&%!!333                 33333323233333!!%$%$%%%&$%$&$%$%$%&$%%%$&%%!333                 33333322233333!!%$$$$%$&%$$&%%$$%%&&$%%%&&%%333                333333322233333!$%$%%$%$$%$&%$$$$%&%$&$%%$&%%333                3333333232333333$$$%%$%$%$&&%$%%$&%&%$$&%%&&$%33                3333333222333333$$$%%$%$%$&$%%$%%&$&%%$&%$$&&%3                 3333333322333333$$%%%$%%%%%$%%$%%%%&%%$&%$%%&%3                 3333333323233333$$%$%$%%%%$$%$%%&%%&%%%%&$&%$%                  3333333322233333$$%$%$%%%%$%&$%%&%%%$%&%&%%&%&                   333333332233333$$%%$%%$%%$&&%%$&%%%$%&%$&%&%&                    33333332323333$$$%$%%$%%$&%%$%&$%%$%&%$&$&%&                    333333332233333$$$$$%$%%$&%%%%&$%%$%%&%&$&$&                     33333332323333$$$%$%$%%%&%$%%&$%%$%%&%&$&$%                         33332233333$$$$%%$%%$%$%&%$&%$%%&%&%&$                  3333333333333333333$$$$%%$%%$%%$&$%%&$$%%%&%&$333333          3333333333333333333333$$$$%$$%$%%$&$%$&%$%$&&%%$3333333333    333333333333333333333333$$%%%$$%$%%$&$$$&%$%$%&$%$333333333333  3333333333333333223333333$$%$%%%%%%$&%$%&%$&%%&$%%333333333333333333222222333333322333333$$%%%%$%%%$%&$%&$$&$%%&%%2233333333333333323323222233333322333333$%$$%$$%%$%&$%&$%&$%&&%22333333322223333322233223223333332233333$%%$%$%$%$%&$%&%%&$%&%%233333222323323333322223232223333332333332$%$%$%$$%%&%&%%$&%&%%2233332322332223333332332332222333332233332$$$%%%$$%%&%&%$&&%&$%2333222333223323333333222233232333333233322$$$%%$$$&&$%&%$&&&%&323323223223222333333333323223322233332333223$$%%%$$&%$%%$$&%&&&323323223222323333333333332232332222332333223$$$$$%%%&$%%$%%&&&332332233233233333"}],palette:[2037811,2829890,4278361,6844794,9478568,11979727,16777215,16564106,11894871,9064510,6044225,13185080,14576184,16756027,16770454,16578912,11851333,5358655,3185763,2321786,2510702,2307683,4289169,5018541,6537929,9753300,12123647,3942720,4597596,8545409,16229515,12743042,8727910]};function s({data:A,size:t},s,i,n){return A[s+i*t[0]+n*t[0]*t[1]]}function i(A){return[(A>>16)%256,(A>>8)%256,A%256]}function n(A,t,s,n){if(0===n)return;const[e,o,h]=i(s[n-1]);A[t]=e,A[t+1]=o,A[t+2]=h,A[t+3]=255}function e(t,i,e,o){const[h,a]=t.size,[r,$]=A(i[1]-i[0]+1,i[3]-i[2]+1),l=$.createImageData(h,a);for(let A=i[0];A<=i[1];A+=1)for(let a=i[2];a<=i[3];a+=1)n(l.data,4*(A+a*h),o,s(t,A,a,e));return $.putImageData(l,-i[0],-i[2]),r}function o(A,t){const s=[],{bounds:i}=A;for(let n=i[4];n<=i[5];n+=1)s[n]=e(A,i,n,t);return s}const h=new Map;function a(A,t=0){return h.get(A)[t]}const r=[];function $(A){return r[A]}!function(){for(const s of t.parts)s.data=(A=s.data,[...A].map(A=>A.charCodeAt(0)-32)),h.set(s.name,o(s,t.palette));var A,s;for(const A of t.palette)r.push(`rgb(${(s=i(A))[0]}, ${s[1]}, ${s[2]})`)}();const l=2,c=3,d=1e3,u=15e3,m=u+1250,f=m+150,p=a("toast"),w=p.height*l,g=p.width*l,y=g;class x{constructor(A,t){this.x=A,this.y=t}add({x:A,y:t}){return new x(this.x+A,this.y+t)}sub({x:A,y:t}){return new x(this.x-A,this.y-t)}scale(A,t=A){return new x(this.x*A,this.y*t)}rotate(A){return new x(this.x*Math.cos(A)-this.y*Math.sin(A),this.x*Math.sin(A)+this.y*Math.cos(A))}distance({x:A,y:t}){return((this.x-A)**2+(this.y-t)**2)**.5}round(){return new x(Math.round(this.x),Math.round(this.y))}wrap(){for(;this.x<-d/2;)this.x+=d;for(;this.x>d/2;)this.x-=d;return this}static intersection({x:A,y:t},{x:s,y:i},{x:n,y:e},{x:o,y:h}){const a=(h-e)*(s-A)-(o-n)*(i-t);if(0===a)return null;const r=((o-n)*(t-e)-(h-e)*(A-n))/a,$=((s-A)*(t-e)-(i-t)*(A-n))/a;return r>=0&&r<=1&&$>=0&&$<=1?new x(A+r*(s-A),t+r*(i-t)):null}}class M extends x{constructor(A,t,s){super(A,t),this.timestamp=s}static fromPoint(A,t){return new M(A.x,A.y,t)}}const P=new x(d/2,d/2),b={absolute:!1,globalAlpha:1,imageScale:l,lineJoin:"round",lineWidth:3,r:0,z:1};const k=1,v=20,z=5,I=80,C=400,T=2*C,S=.05*C,E=a("sparkles"),R=a("sparkles",1);class D extends M{constructor(A,t,s){super(A.x+(Math.random()-.5)*I,A.y+(Math.random()-.5)*I,A.timestamp+t),this.r=Math.random()*Math.PI,this.dx=(Math.random()-.5)*I/C,this.dy=(Math.random()-.5)*I/C,this.dr=Math.random()/100,this.isHit=s}isExpired(A){return A-this.timestamp>(this.isHit?T:C)}tick(A){this.x+=this.dx*A,this.y+=this.dy*A,this.r+=this.dr*A;const t=1-A**-1.5;this.dx*=t,this.dy*=t,this.dr*=t}draw(A,t){const s=this.isHit?R:E,i=function(A,t){return t<S?t/S:(A-t)/(A-S)}(this.isHit?T:C,t-this.timestamp)**.5,n=this.isHit?1:.5;A.image(s,new x(this.x,this.y),{absolute:!0,globalAlpha:i*n,r:this.r})}}class L{constructor(){this.now=-1/0,this.sparkles=new Set}add(A,t=!1){for(let s=0;s<(t?v:k);s+=1)this.sparkles.add(new D(A,z*s,t))}tick(A,t){this.now=A,this.removeOldSparkles(),this.updateSparkles(t)}removeOldSparkles(){const A=[];for(const t of this.sparkles)t.isExpired(this.now)&&A.push(t);for(const t of A)this.sparkles.delete(t)}updateSparkles(A){for(const t of this.sparkles)t.tick(A)}draw(A){for(const t of this.sparkles)t.draw(A,this.now)}}const W=120;const O=new x(.5,20),F=30,B=Math.ceil(d/F),j=.95*d;class H{constructor(A=1){this.pointCache=new Map,this.z=A}draw(A){const t=this.getMinimumY(A.cameraPosition);this.trimExcess(t),this.ensureEnough(t);const s=Math.min(.01*Math.abs(A.dy),1);for(const t of this.pointCache.values())this.drawOne(A,t,s)}getMinimumY(A){return Math.floor((A.y-d/2)/F)}trimExcess(A){for(const t of this.pointCache.keys())t<A&&this.pointCache.delete(t)}ensureEnough(A){const t=A+B;for(let s=A;s<=t;s+=1)this.ensurePoint(s)}ensurePoint(A){this.pointCache.has(A)||this.pointCache.set(A,new x(Math.random()*j-j/2,A*F))}drawOne(A,t,s){A.rect(t.sub(O),t.add(O),{fillStyle:$(26),globalAlpha:s,z:this.z})}}const q=1.5*d,V=[a("pillar"),a("pillar",1),a("pillar",2),a("pillar",3),a("pillar",4)],Y=.02,N=q/5/l,J=4,[X,G]=A(d/l,q/l);function K(A,t,s){const{width:i,height:n}=A;G.drawImage(A,0,J+1,i,n,t,s+J+N,i,n),G.drawImage(A,0,J,i,1,t,s+J,i,N),G.drawImage(A,t,s)}!function(){const A=function(){const A=[],t=q/6,s=q/2,i=q-s,n=d;for(let e=t;e<s+i;e+=16)for(let i=0-50*Math.random();i<n+50;i+=36+24*Math.random()){const o=1-(e/s)**5;Math.abs(i-n/2)/(n/2)>o&&Math.random()<.75&&A.push([new x(i,e-t+12*Math.random()),V[Math.floor(Math.random()*V.length)]])}return A}();for(const[t,s]of A)K(s,(t.x-s.width)/l,(t.y-s.height)/l)}();const Q=new x(0,0),U=new x(d,d),Z=a("planet"),_=.0015,AA=new x(d/3/_,-d/3/_),tA=.002,sA=d/2/tA,iA=d/tA,nA=new x(-sA,d/2.5/tA),eA=new x(sA,iA);function oA(A){A.rect(Q,U,{absolute:!0,fillStyle:$(23)}),A.image(Z,AA,{z:_}),A.rect(nA,eA,{fillStyle:$(22),z:tA}),function(A){A.image(X,new x(0,(q+d/3)/2/Y),{z:Y})}(A)}const hA=a("brick"),aA=2,{height:rA}=hA,$A=15,[lA,cA]=A(d/l,$A*rA);const dA=8,uA=4;function mA([A,t,s]){cA.drawImage(hA,0,0,aA,rA,A,t,aA,rA),cA.drawImage(hA,aA+1,0,aA,rA,A+s-aA,t,aA,rA),cA.drawImage(hA,aA,0,1,rA,A+aA,t,s-2*aA,rA)}!function(){const A=function(){const A=[],t=d/l;for(let s=0;s<$A;s+=1){let i=-Math.round(Math.random()*uA);for(;i<t;){const t=dA+Math.round(Math.random()*uA);A.push([i,s*rA,t]),i+=t-1}}return A}();for(const t of A)mA(t)}();const fA=1500,pA=a("brick").height*l,wA=-d/2,gA=[[-(y+g)/2,$(11)],[-y/2,$(17)],[y/2,$(6)],[(y+g)/2,$(17)],[d/2,$(11)]];class yA{constructor(){this.glowIntensity=0}tick(A){var t,s;this.glowIntensity=(t=(1-Math.abs(A%fA/(fA/2)-1))**.5,s=.1,Math.round(t/s)*s)}draw(A){!function(A){A.image(lA,new x(0,f),{snapToTop:!0})}(A);let t=wA;for(const[s,i]of gA)A.rect(new x(t,f),new x(s,f+pA),{fillStyle:i,globalAlpha:.4+.3*this.glowIntensity}),t=s}}const xA=2;function MA(A,t,s,i,n,e,o){A.fillStyle=o;for(let e=0;e<=xA;e+=1)A.fillRect(t+(xA-e)*c,s+e*c,i-2*(xA-e)*c,n-2*e*c);A.fillStyle=e;for(let e=0;e<=xA-1;e+=1)A.fillRect(t+(xA-e)*c,s+(e+1)*c,i-2*(xA-e)*c,n-2*(e+1)*c)}const PA=6,bA=1,kA=4,vA={a:".... ..... .. .   ",b:".. . ... . ...    ",c:"....  .  .  ...   ",d:".. . .. .. ...    ",e:"....  .. .  ...   ",f:"....  .. .  .     ",g:"....  . .. ....   ",h:". .. ..... .. .   ",i:"..... ",j:"...  .  .. . ..   ",k:". .. ... . .. .   ",l:".  .  .  .  ...   ",m:".   ... ... . ..   ..   .     ",n:".  ... .. ...  ..  .    ",o:".... .. .. ....   ",p:".... .....  .     ",q:".... .. .. ....  .",r:".... ...... . .   ",s:"....  ...  ....   ",t:"... .  .  .  .    ",u:". .. .. .. ....   ",v:". .. .. .. . .    ",w:".   ..   .. . .. . ......     ",x:". .. . . . .. .   ",y:". .. .... .  .    ",z:"...  . . .  ...   ",1:" ... . . .  ",2:"..   . . .  ...   ",3:"..   . .   ...    ",4:".  .  . ....  .   ",5:"....  ..   ...    ",6:" . .  .. . . .    ",7:"...  .  . .  .    ",8:" . . . . . . .    ",9:" . . . ..  . .    ",0:" . . .. .. . .    "," ":"            ",".":"    . ",",":"    ..","'":"..    ","!":"... . ","-":"    ..      ","?":"...  . .     .    "},zA=new Map;function IA(t,s,i=1/0){const n=`${t}%${s}%${i}`;if(!zA.has(n)){const{fittingText:e,width:o,height:h}=function(A,t){const s=A.split("\n"),i=[];for(const A of s){const[s,...n]=A.split(" ");let e=s;for(const A of n)CA(e+" "+A)<=t?e+=" "+A:(i.push(e),e=A);i.push(e)}return{fittingText:i.join("\n"),width:Math.max(...i.map(CA)),height:i.length*(PA+kA)-kA}}(t,i),[a,r]=A(o,h);r.fillStyle=s,r.beginPath();let $=0,l=0;for(const A of e)"\n"===A?($+=PA+kA,l=0):(TA(r,l,$,A),l+=bA+SA(vA[A]));r.fill(),zA.set(n,a)}return zA.get(n)}function CA(A){return""===A?0:[...A].reduce((A,t)=>A+SA(vA[t]),(A.length-1)*bA)}function TA(A,t,s,i){const n=vA[i],e=SA(n);for(let i=0;i<n.length;i+=1)" "!==n[i]&&A.rect(t+i%e,s+Math.floor(i/e),1,1)}function SA(A){return A.length/PA}const EA=5,RA=7,DA=6,LA=Math.round((EA+DA/2)*c);function WA(A,t,s,i,n,e){const o=IA(t,$(0),(n-s)/c+1-2-2*EA-DA/2),h=(2*(1+EA)+o.height)*c;MA(A,s+("left"===e?DA/2*c:0),i,n-s-(e?DA/2*c:0),h,$(6),$(0)),e&&function(A,t,s,i){A.fillStyle=$(0);for(let n=0;n<DA/2;n+=1)A.fillRect(t+i*n*c,s-n*c,c,2*(n+1)*c);A.fillStyle=$(6);for(let n=0;n<DA/2;n+=1)A.fillRect(t+i*(n+1)*c,s-n*c,c,2*(n+1)*c)}(A,"left"===e?s:n-c,i+LA,"left"===e?1:-1),A.drawImage(o,s+(1+RA)*c,i+(1+EA)*c,o.width*c,o.height*c)}const OA=[a("old wizard"),a("old wizard",1),a("old wizard",2)],FA=OA[0].width,BA=8*c+FA*l/2,jA=d/10;class HA{constructor(){[this.canvas,this.context]=A(d,d),this.opacity=0,this.showscoreTimestamp=1/0}tick(A,t){!isFinite(this.showscoreTimestamp)&&t.mid.y>m&&0===t.dr&&(this.showscoreTimestamp=A+400,this.prerender()),this.opacity=Math.min(Math.max((A-this.showscoreTimestamp)/400,0),1)}prerender(){this.drawWizardWithBubble(.25*d,0,"soon i will be saying something sarcastic.\ni like precision."),this.drawWizardWithBubble(.5*d,1,"i'm not even sure why i'm here.\nthat toast looks delicious though.\nit will be enough if it just lands butter up.",!0),this.drawWizardWithBubble(.75*d,2,"oh, young'uns these days! no appreciation for the form.\n\nwhat point is there to be precise if it looks plain awful in the end?")}drawWizardWithBubble(A,t,s,i){const n=A-BA;this.drawWizard(jA+BA,n,t,i),WA(this.context,s,i?jA:jA+2*BA,n,i?d-jA-2*BA:d-jA,i?"right":"left")}drawWizard(A,t,s,i){this.context.setTransform(i?-1:1,0,0,1,i?d:0,0),MA(this.context,A-BA,t,2*BA,2*BA,$(4),$(2));const n=OA[s];this.context.drawImage(n,A-n.width/2*l,t+BA-n.height/2*l,n.width*l,n.height*l),this.context.setTransform(1,0,0,1,0,0)}draw(A){A.image(this.canvas,new x(d/2,d/2),{absolute:!0,globalAlpha:this.opacity,imageScale:1})}}const qA=a("toast"),VA=1.2,YA=.002,NA=1e-6,JA=.05,XA=.001,GA=25e-5,KA=32,QA=.2,UA=1e-5,ZA=[new x(-g/2,-w/2),new x(-g/2,w/2),new x(g/2,w/2),new x(g/2,-w/2)];function _A(A){return A.y>f}class At{constructor(A=0,t=-2e3){this.collisionPoint=null,this.dr=Math.sign(Math.random()-.5)*(.01*Math.random()+.005),this.dx=Math.sign(Math.random()-.5)*(.05*Math.random()+.025),this.dy=VA,this.lastPhase=!1,this.mid=new x(A,t),this.r=0}tick(A){const t=this.mid.x,s=this.mid.y,i=this.r;if(null!==this.collisionPoint&&this.handleCollision(this.collisionPoint,A),!this.lastPhase){this.mid.x+=this.dx*A,this.mid.y+=this.dy*A,this.r+=this.dr*A,this.wrap(),this.dy=this.dy*(1-YA*A)+VA*YA*A,this.dr=this.dr*(1-NA*A)+Math.sign(Math.PI-this.r)*JA*NA*A;const n=1-A**this.getDampeningPower();if(this.dx*=n,this.dy*=n,this.dr*=n,this.isColliding()){const[n,e]=this.findCollisionPoint(t,s,i,A);this.collisionPoint=n,this.handleCollision(this.collisionPoint,e)}}}getDampeningPower(){return-3*(this.mid.y<u?1:this.mid.y<m?((m-this.mid.y)/(m-u))**.5*.8:1)}isColliding(){return this.getTransformedPoints().some(_A)}findCollisionPoint(A,t,s,i){let n=this.mid,e=0,o=i;for(let i=0;i<KA;i+=1){const i=(e+o)/2;this.mid.x=A+this.dx*i,this.mid.y=t+this.dy*i,this.r=s+this.dr*i,this.wrap();const h=this.getTransformedPoints().find(_A);h?(o=i,n=h):e=i}return this.mid.y+=f-n.y,n.y=f,[n,i-o]}handleCollision(A,t,s=!1){const i=A.sub(this.mid).wrap();if(this.lastPhase){const A=this.getIntersection(this.mid,new x(this.mid.x,f+1));null!==A&&(this.dr-=t/100*GA*Math.sign(i.x)*Math.max(f-A.y,0)**.6)}else this.dx=0,this.dy=0,this.dr=GA*-Math.sign(i.x),this.lastPhase=!0;const n=this.dr*t,e=this.getClosestRightAngle();if(Math.sign(this.r-e)===Math.sign(this.r+n-e)||s){const A=i.rotate(n).sub(i);this.mid=this.mid.sub(A),this.mid.y=Math.min(this.mid.y,f-w/2),this.r+=n,this.wrap()}else{const s=(e-this.r)/this.dr;this.handleCollision(A,s,!0),this.collisionPoint=A.sub(this.mid).scale(-1,1).add(this.mid),this.dr*=QA,Math.abs(this.dr)<UA&&(this.dr=0,this.collisionPoint=new x(this.mid.x,f)),this.handleCollision(this.collisionPoint,t-s,!0)}}getClosestRightAngle(){const A=.25*Math.PI;for(const t of[0,.5*Math.PI,Math.PI,1.5*Math.PI])if(Math.abs(this.r-t)<=A)return t;return 2*Math.PI}tryApplyForce(A){if(null===A||this.mid.y>=u)return null;const[t,s]=A;if(null===this.getIntersection(this.mid,t))return null;const i=this.getIntersection(t,s);if(null===i)return null;const n=i.sub(t).scale(XA),e=i.sub(this.mid);return this.applyForce(e,n),i}getIntersection(A,t){const s=this.getTransformedPoints();s.push(s[0]);let i=null;for(let n=0;n<s.length-1;n+=1){const e=x.intersection(A,t,s[n],s[n+1]);if(null!==e){A.distance(e)<1/0&&(i=e)}}return i}getTransformedPoints(){return ZA.map(A=>A.rotate(this.r).add(this.mid))}applyForce({x:A,y:t},{x:s,y:i}){this.dx+=s,this.dy+=i,this.dr+=(A*i-t*s)*GA}wrap(){for(this.mid.wrap();this.r>2*Math.PI;)this.r-=2*Math.PI;for(;this.r<0;)this.r+=2*Math.PI}draw(A){A.image(qA,this.mid,{r:this.r})}}const tt=[a("wizard"),a("wizard",1),a("wizard",2),a("wizard",3),a("wizard",4)],st=new x(d/2,d/4),it=1,nt=tt.length-1-it,et=100,ot=.003,ht=8;class at{constructor(){this.offset=-1/0,this.phase=0,this.startTimestamp=0}tick(A,t){if(this.offset=Math.sin(A*ot)*ht,t){const t=Math.floor((A-this.startTimestamp)/et);0===this.phase?(this.startTimestamp=A,this.phase=1):this.phase<it?this.phase=t%it+1:this.phase=(t-it)%nt+it+1}else this.phase=0}draw(A){const t=st.add(new x(0,this.offset));A.image(tt[0],t,{absolute:!0}),this.phase>0&&A.image(tt[this.phase],t,{absolute:!0})}}const rt=d/15,$t=f-d/2+20*l;class lt{constructor(A,t){this.display=A,this.mouse=t,this.init()}reset(){this.display.resetCameraPosition(),this.init()}init(){this.toast=new At,this.finishingLine=new yA,this.wizard=new at,this.scoring=new HA,this.drawables=[this.wizard,new H,new H(2),new H(3),this.toast,this.finishingLine,this.scoring,this.mouse]}tick(A,t){this.toast.tick(t),this.finishingLine.tick(A),this.scoring.tick(A,this.toast),this.display.setCameraPosition(this.getNextCameraPosition()),this.mouse.tick(A,t,this.display.getOffset(),this.toast),this.wizard.tick(A,this.mouse.pressed)}getNextCameraPosition(){const A=this.toast.mid.y,t=Math.max(Math.min((A-u)/(m-u),1),0),s=Math.max(Math.min($t*t+(A+rt)*(1-t),A+rt),.8*A+d/4);return new x(0,s)}draw(){oA(this.display);for(const A of this.drawables)A.draw(this.display)}}const ct=20;document.documentElement.style.background=$(1);const dt=new class{constructor(){[this.canvas,this.context]=A(d,d),document.body.appendChild(this.canvas),this.resetCameraPosition()}setCameraPosition(A){this.trackingDy?this.dy=A.y-this.cameraPosition.y:this.trackingDy=!0,this.cameraPosition=A}resetCameraPosition(){this.cameraPosition=new x(0,0),this.dy=0,this.trackingDy=!1}getOffset(){return P.sub(this.cameraPosition)}rect(A,t,s){const{absolute:i,r:n,z:e,...o}={...b,...s};Object.assign(this.context,o);const{x:h,y:a}=this.getTransformedPoint(i,A,e),{x:r,y:$}=this.getTransformedPoint(i,t,e);this.context.beginPath(),this.context.rect(h,a,r-h,$-a),this.context.closePath(),o.fillStyle&&this.context.fill(),o.strokeStyle&&this.context.stroke()}image(A,t,s){const{absolute:i,imageScale:n,r:e,snapToBottom:o,snapToLeft:h,snapToRight:a,snapToTop:r,z:$,...l}={...b,...s};Object.assign(this.context,l);const{x:c,y:u}=this.getTransformedPoint(i,t,$),m=A.width*n,f=A.height*n;this.setRotation(e,c,u);const p=h?0:a?-m:-m/2,w=r?0:o?-f:-f/2;this.context.drawImage(A,c+p,u+w,m,f),c<d/2?(this.setRotation(e,c+d,u),this.context.drawImage(A,c+p+d,u+w,m,f)):(this.setRotation(e,c-d,u),this.context.drawImage(A,c+p-d,u+w,m,f)),this.setRotation(0)}getTransformedPoint(A,t,s){return A?t.round():t.sub(this.cameraPosition).scale(s).add(P).round()}setRotation(A,t=0,s=0){const i=Math.cos(A),n=Math.sin(A);this.context.setTransform(i,n,-n,i,t*(1-i)+s*n,s*(1-i)-t*n)}clear(){this.context.clearRect(0,0,d,d)}},ut=new class{constructor(){this.lastPoint=null,this.now=-1/0,this.points=new Set,this.pressed=!1,this.sparkles=new L}init(A){A.canvas.addEventListener("mousedown",t=>{t.preventDefault(),this.start(t,A)}),A.canvas.addEventListener("touchstart",t=>{t.preventDefault(),this.start(this.normalizeTouchEvent(t),A)}),A.canvas.addEventListener("mousemove",t=>{t.preventDefault(),this.move(t,A)}),A.canvas.addEventListener("touchmove",t=>{t.preventDefault(),this.move(this.normalizeTouchEvent(t),A)}),window.addEventListener("mouseup",()=>{this.stop()}),window.addEventListener("touchend",()=>{this.stop()}),window.document.addEventListener("visibilitychange",()=>{this.stop()}),window.addEventListener("contextmenu",A=>{A.preventDefault()})}normalizeTouchEvent(A){return A.touches[0]}start(A,t){this.pressed=!0,this.pushPoint(A,t.canvas)}move(A,t){this.pressed&&this.pushPoint(A,t.canvas)}stop(){this.clearPoints(),this.pressed=!1}pushPoint(A,t){const{left:s,top:i,width:n,height:e}=t.getBoundingClientRect();this.lastPoint=new M((A.clientX-s)*d/n,(A.clientY-i)*d/e,this.now),this.points.add(this.lastPoint),this.sparkles.add(this.lastPoint)}tick(A,t,s,i){if(this.sparkles.tick(A,t),this.now=A,!this.pressed)return;this.removeOldPoints();const n=this.getIntersectionPoint(i,s);null!==n&&(this.sparkles.add(M.fromPoint(n.add(s),A),!0),this.clearPoints())}getIntersectionPoint(A,t){const s=A.tryApplyForce(this.getCurrentVector(t));return null!==s?s:null===this.lastPoint?null:A.tryApplyForce(this.getCurrentVector(t.sub(new x(this.lastPoint.x<d/2?d:-d,0))))}getCurrentVector(A){if(this.points.size<2||null===this.lastPoint)return null;const[t]=this.points;return[t.sub(A),this.lastPoint.sub(A)]}removeOldPoints(){const A=[];for(const t of this.points)t.timestamp<this.now-W&&A.push(t);for(const t of A)this.points.delete(t);0===this.points.size&&(this.lastPoint=null)}clearPoints(){this.points=new Set,this.lastPoint=null}draw(A){this.sparkles.draw(A)}};ut.init(dt),function(A,t){const s=new lt(A,t);let i=0,n=!0;requestAnimationFrame(function t(e){requestAnimationFrame(t);const o=Math.min(e-i,ct);i=e,n?n=!1:(A.clear(),s.tick(e,o),s.draw())})}(dt,ut);</script>
